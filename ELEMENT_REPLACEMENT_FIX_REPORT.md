# ุชูุฑูุฑ ุฅุตูุงุญ ูุดููุฉ ุงูุนูุตุฑ ุงูููุนุงุฏ ุงุณุชุฎุฏุงูู

## ๐ฏ ุงููุดููุฉ ุงูููุญุฏุฏุฉ

ูุงูุช ุงููุดููุฉ ุฃู reCAPTCHA ูุญุงูู ุฅุนุงุฏุฉ ุงูุชููุฆุฉ ูู ููุณ ุงูุนูุตุฑ ูุจู ุฃู ูุชู ุชูุธููู ุจุงููุงููุ ููุง ูุณุจุจ ุฎุทุฃ "reCAPTCHA has already been rendered in this element" ุญุชู ุจุนุฏ ุงูุชูุธูู ุงูุดุงูู.

## โ ุงูุญู ุงูููุทุจู

### 1. ุงุณุชุจุฏุงู ุงูุนูุตุฑ ุจุงููุงูู ุจุฏูุงู ูู ุชูุธููู
ุชู ุชุบููุฑ ุงูููุฌ ูู ุชูุธูู ุงูุนูุตุฑ ุฅูู ุงุณุชุจุฏุงูู ุจุนูุตุฑ ุฌุฏูุฏ ุชูุงูุงู:

#### ูุจู ุงูุฅุตูุงุญ:
```typescript
// ุชูุธูู ุดุงูู ูุชุฌูุจ ุงูุชููุฆุฉ ุงููุชุนุฏุฏุฉ
if (recaptchaRef.current) {
  // ูุณุญ ูุญุชูู ุงูุนูุตุฑ
  recaptchaRef.current.innerHTML = '';
  
  // ุฅุฒุงูุฉ ุฌููุน ุงูู attributes
  const attributes = Array.from(recaptchaRef.current.attributes);
  attributes.forEach(attr => {
    recaptchaRef.current?.removeAttribute(attr.name);
  });
  
  // ุฅุนุงุฏุฉ ุฅุถุงูุฉ ุงูู class ุงูุฃุณุงุณู
  recaptchaRef.current.className = 'flex justify-center';
}
```

#### ุจุนุฏ ุงูุฅุตูุงุญ:
```typescript
// ุชูุธูู ุดุงูู ูุชุฌุฏูุฏ ุงูุนูุตุฑ ุจุงููุงูู
if (recaptchaRef.current) {
  // ุฅูุดุงุก ุนูุตุฑ ุฌุฏูุฏ ุจุฏูุงู ูู ุชูุธูู ุงููุฏูู
  const newElement = document.createElement('div');
  newElement.className = 'flex justify-center';
  newElement.id = `recaptcha-${Date.now()}`;
  
  // ุงุณุชุจุฏุงู ุงูุนูุตุฑ ุงููุฏูู ุจุงูุฌุฏูุฏ
  recaptchaRef.current.parentNode?.replaceChild(newElement, recaptchaRef.current);
  recaptchaRef.current = newElement;
}
```

### 2. ุฅุถุงูุฉ ุชุฃุฎูุฑ ุตุบูุฑ ูุจู ุงูุชุจุฏูู
ุชู ุฅุถุงูุฉ ุชุฃุฎูุฑ ุตุบูุฑ (100ms) ูุจู ุงูุชุจุฏูู ููููุชุงุญ ุงูุชุฌุฑูุจู:

```typescript
// ุชุฃุฎูุฑ ุตุบูุฑ ูุจู ุงูุชุจุฏูู
setTimeout(() => {
  setCurrentSiteKey(FALLBACK_SITE_KEY);
  setKeyErrors(0);
}, 100);
```

### 3. ุฅุนุงุฏุฉ ุชุนููู ุดุงูู ููุญุงูุงุช
ุชู ุฅุถุงูุฉ ุฅุนุงุฏุฉ ุชุนููู ุดุงูู ูุฌููุน ุงูุญุงูุงุช ูุจู ุงูุชุจุฏูู:

```typescript
// ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูุญุงูุงุช
setIsInitialized(false);
setRecaptchaVerified(false);
setRecaptchaToken(null);
setRecaptchaError(null);
widgetIdRef.current = null;
```

### 4. ุชุทุจูู ููุณ ุงูููุทู ูู ุฌููุน ุงูุฃูุงูู
ุชู ุชุทุจูู ููุณ ุงูููุทู ูู:
- **error-callback**: ุนูุฏ ุญุฏูุซ ุฎุทุฃ ูู reCAPTCHA
- **catch**: ุนูุฏ ุญุฏูุซ ุฎุทุฃ ูู ุชููุฆุฉ reCAPTCHA

## ๐จ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### ุงููุฒุงูุง ุงูููุญููุฉ:
- **โ ุนูุตุฑ ุฌุฏูุฏ ุชูุงูุงู**: ูุง ุชูุฌุฏ ุจูุงูุง ูู ุงูุนูุตุฑ ุงููุฏูู
- **โ ูููุฉ ูุฑูุฏุฉ**: ูู ุนูุตุฑ ูู ID ูุฑูุฏ ูุน timestamp
- **โ ุชุฃุฎูุฑ ุขูู**: ุชุฃุฎูุฑ ุตุบูุฑ ูุถูู ุงูุชูุงู ุงูุชูุธูู
- **โ ุฅุนุงุฏุฉ ุชุนููู ุดุงูู**: ุฌููุน ุงูุญุงูุงุช ุชูุนุงุฏ ุชุนููููุง
- **โ ุชุทุจูู ุดุงูู**: ููุณ ุงูููุทู ูู ุฌููุน ุงูุฃูุงูู

### ุงูุณููู ุงููุชููุน:
1. **ุนูุฏ ุญุฏูุซ ุฎุทุฃ ูู ุงูููุชุงุญ ุงูุญูููู**: ูุชู ุฅูุดุงุก ุนูุตุฑ ุฌุฏูุฏ ูุงูุชุจุฏูู ููููุชุงุญ ุงูุชุฌุฑูุจู
2. **ุนูุฏ ุญุฏูุซ ุฎุทุฃ ูู ุงูููุชุงุญ ุงูุชุฌุฑูุจู**: ูุชู ุงูุชุจุฏูู ูููููู ุงูุชูููุฏู
3. **ูุง ุชูุฌุฏ ุฃุฎุทุงุก "already rendered"**: ุงูุนูุตุฑ ุงูุฌุฏูุฏ ูุง ูุญุชูู ุนูู ุฃู ุจูุงูุง

## ๐ ุงููููุงุช ุงูููุญุฏุซุฉ

### `src/components/RecaptchaComponent.tsx`:
- **ุชุญุฏูุซ**: ุงุณุชุจุฏุงู ุงูุนูุตุฑ ุจุงููุงูู ุจุฏูุงู ูู ุชูุธููู
- **ุฅุถุงูุฉ**: ุชุฃุฎูุฑ ุตุบูุฑ ูุจู ุงูุชุจุฏูู
- **ุฅุถุงูุฉ**: ุฅุนุงุฏุฉ ุชุนููู ุดุงูู ููุญุงูุงุช
- **ุชุทุจูู**: ููุณ ุงูููุทู ูู error-callback ู catch

## ๐งช ุงูุงุฎุชุจุงุฑ

### ููุชุญูู ูู ุงูุฅุตูุงุญ:
1. **ุงูุชุญ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู**
2. **ุฑุงูุจ ูุญุฏุฉ ุงูุชุญูู ููุฑุณุงุฆู**
3. **ุชุญูู ูู ุนุฏู ุธููุฑ ุฎุทุฃ "reCAPTCHA has already been rendered"**
4. **ุงุฎุชุจุฑ ุงููุธุงู ุงููุชุฏุฑุฌ**:
   - ุฑุงูุจ ุงูุชุจุฏูู ุจูู ุงูููุงุชูุญ
   - ุชุญูู ูู ุฅูุดุงุก ุนูุตุฑ ุฌุฏูุฏ
   - ุชุญูู ูู ุงูุชุจุฏูู ูููููู ุงูุชูููุฏู ุนูุฏ ุงููุดู

### ุงููุชูุฌุฉ ุงููุชููุนุฉ:
- **ูุง ุชูุฌุฏ ุฃุฎุทุงุก "already rendered"**
- **ุงููุธุงู ุงููุชุฏุฑุฌ ูุนูู ุจุดูู ุตุญูุญ**
- **ุฅูุดุงุก ุนูุตุฑ ุฌุฏูุฏ ุนูุฏ ุงูุชุจุฏูู**
- **ุงูุฑุณุงุฆู ูู ูุญุฏุฉ ุงูุชุญูู ุตุญูุญุฉ**

## ๐ ุงูุชุญุณููุงุช ุงููุญููุฉ

### 1. ุงุณุชูุฑุงุฑ ุงููุธุงู:
- **ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ุงูุชููุฆุฉ**
- **ุนูุตุฑ ุฌุฏูุฏ ุชูุงูุงู ูู ูู ูุฑุฉ**
- **ุชุฃุฎูุฑ ุขูู ูุถูู ุงูุชูุงู ุงูุนูููุฉ**

### 2. ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:
- **ุงูุชูุงู ุณูุณ ุจูู ุงูุฃูุธูุฉ**
- **ูุง ุชูุฌุฏ ุฑุณุงุฆู ุฎุทุฃ ูุฑุจูุฉ**
- **ุนูู ูุณุชูุฑ ูููุธุงู**

### 3. ุงูููุฏ:
- **ููุฌ ุฃูุซุฑ ูุนุงููุฉ**: ุงุณุชุจุฏุงู ุจุฏูุงู ูู ุชูุธูู
- **ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก**
- **ููุฏ ุฃูุซุฑ ุงุณุชูุฑุงุฑุงู**

---

**ุชุงุฑูุฎ ุงูุฅุตูุงุญ**: 09-08-2025  
**ุงููุดููุฉ**: ุฎุทุฃ "reCAPTCHA has already been rendered" ุญุชู ุจุนุฏ ุงูุชูุธูู  
**ุงูุญู**: ุงุณุชุจุฏุงู ุงูุนูุตุฑ ุจุงููุงูู ุจุฏูุงู ูู ุชูุธููู  
**ุงูุญุงูุฉ**: ููุชูู ูููุฎุชุจุฑ โ


