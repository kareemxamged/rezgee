# ๐ง ูุธุงู ุงูุชููุจููุช ุงูููุญุฏ ููุฅููููุงุช - ุฑุฒูู

**ุงูุชุงุฑูุฎ:** 15 ุณุจุชูุจุฑ 2025  
**ุงูููุช:** 05:08 ุตุจุงุญุงู (ุชูููุช ุงูุณุนูุฏูุฉ)  
**ุงูุญุงูุฉ:** โ ุชู ุงูุชุญุณูู ูุงูุชูุญูุฏ

---

## ๐ฏ ุงููุดููุฉ ุงูููุชุดูุฉ

- ูุฌูุฏ ุชููุจููุช ูุฎุชููุฉ ููู ุนูููุฉ ุจุฏูุงู ูู ูุธุงู ููุญุฏ
- ุนุฏู ุงุชุณุงู ูู ุงุชุฌุงู ุงููุญุชูู (RTL/LTR)
- ุนุฏู ูุฌูุฏ ูุญุชูู ุฅูุฌููุฒู ูุงูู ูุฌููุน ุงูุนูููุงุช
- ุชูุฑุงุฑ ูู ุงูููุฏ ูุนุฏู ุงุณุชุฎุฏุงู ุงููุธุงู ุงูููุญุฏ

---

## โ ุงููุธุงู ุงูููุญุฏ ุงููุทุจู

### ๐๏ธ **ุงููููู ุงูุฃุณุงุณู:**

1. **`src/lib/emailTemplates.ts`** - ุงูุชููุจููุช ุงูุฃุณุงุณูุฉ ุงูููุญุฏุฉ
2. **`src/lib/finalEmailServiceNew.ts`** - ุงูุฎุฏูุฉ ุงููุชูุฏูุฉ
3. **ูุงูุจ HTML ููุญุฏ** ูุน ุฏุนู ูุงูู ููุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

### ๐ **ุงูุนูููุงุช ุงููุฏุนููุฉ:**

| ุงูุนูููุฉ | ุงูุนุฑุจูุฉ | ุงูุฅูุฌููุฒูุฉ | RTL/LTR | ุงูุชุญุณููุงุช |
|---------|---------|------------|---------|-----------|
| **ุชุฃููุฏ ุงูุญุณุงุจ** | โ | โ | โ | ูุญุณู |
| **ูููุฉ ุงููุฑูุฑ ุงููุคูุชุฉ** | โ | โ | โ | ูุญุณู |
| **ุฑูุฒ ุงูุชุญูู ุงูุซูุงุฆู** | โ | โ | โ | ูุญุณู |
| **ุฑูุฒ ุงูุชุญูู ุงูุฅุฏุงุฑู** | โ | โ | โ | ูุญุณู |
| **ุชุฃููุฏ ุชุบููุฑ ุงูุจูุงูุงุช** | โ | โ | โ | ูุญุณู |
| **ุฑูุฒ ุฃูุงู ุงูุฅุนุฏุงุฏุงุช** | โ | โ | โ | ูุญุณู |

---

## ๐จ ุงููุงูุจ ุงูุฃุณุงุณู ุงูููุญุฏ

### **ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ:**

```typescript
private static getBaseTemplate(isRTL: boolean = true): string {
  const direction = isRTL ? 'rtl' : 'ltr';
  const textAlign = isRTL ? 'right' : 'left';
  const fontFamily = isRTL ? 'Tahoma, Arial, sans-serif' : 'Arial, Helvetica, sans-serif';

  return `
    <!DOCTYPE html>
    <html dir="${direction}" lang="${isRTL ? 'ar' : 'en'}">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>{{TITLE}}</title>
      <style>
        body {
          font-family: ${fontFamily};
          direction: ${direction};
          text-align: ${textAlign};
          /* ุชุตููู ูุชุฌุงูุจ ููุญุณู */
        }
        /* ุฃููุงุท ูุญุณูุฉ ููุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ */
      </style>
    </head>
    <body>
      <!-- ูุญุชูู ููุญุฏ -->
    </body>
    </html>
  `;
}
```

### **ุฏุนู ุงููุบุชูู:**

```typescript
private static replaceBaseKeys(template: string, title: string, language: 'ar' | 'en' = 'ar'): string {
  const footerText = language === 'ar' 
    ? 'ูุฑูู ุฑุฒูู - ูููุน ุงูุฒูุงุฌ ุงูุฅุณูุงูู ุงูุดุฑุนู' 
    : 'Rezge Team - Islamic Marriage Platform';
  
  const footerSmall = language === 'ar' 
    ? 'ูุฐุง ุฅูููู ุชููุงุฆูุ ูุฑุฌู ุนุฏู ุงูุฑุฏ ุนููู ูุจุงุดุฑุฉ' 
    : 'This is an automated email, please do not reply directly';
  
  return template
    .replace('{{TITLE}}', title)
    .replace('{{FOOTER_TEXT}}', footerText)
    .replace('{{SITE_NAME}}', language === 'ar' ? 'ุฑุฒูู' : 'Rezge')
    .replace('{{FOOTER_SMALL}}', footerSmall);
}
```

---

## ๐ง ุชููุจููุช ุงูุนูููุงุช ุงููุญุณูุฉ

### 1. **ูููุฉ ุงููุฑูุฑ ุงููุคูุชุฉ** โ

**ุงูุนุฑุจูุฉ:**
```
ุงูููุถูุน: ูููุฉ ุงููุฑูุฑ ุงููุคูุชุฉ - ุฑุฒูู
ุงููุญุชูู: ุชุนูููุงุช ููุตูุฉุ ุฎุทูุงุช ุงูุงุณุชุฎุฏุงูุ ุชุญุฐูุฑุงุช ุฃูููุฉ
```

**ุงูุฅูุฌููุฒูุฉ:**
```
Subject: Temporary Password - Rezge
Content: Detailed instructions, usage steps, security warnings
```

### 2. **ุชุฃููุฏ ุงูุญุณุงุจ** โ

**ุงูุนุฑุจูุฉ:**
```
ุงูููุถูุน: ุชุฃููุฏ ุฅูุดุงุก ุญุณุงุจู - ุฑุฒูู
ุงููุญุชูู: ุชุฑุญูุจุ ุฑุงุจุท ุงูุชุฃููุฏุ ุตุงูุญ ูู 24 ุณุงุนุฉ
```

**ุงูุฅูุฌููุฒูุฉ:**
```
Subject: Confirm Your Account - Rezge
Content: Welcome, confirmation link, valid for 24 hours
```

### 3. **ุฑูุฒ ุงูุชุญูู ุงูุซูุงุฆู** โ

**ุงูุนุฑุจูุฉ:**
```
ุงูููุถูุน: ุฑูุฒ ุงูุชุญูู ุงูุซูุงุฆู - ุฑุฒูู
ุงููุญุชูู: ุฑูุฒ 6 ุฃุฑูุงูุ ุตุงูุญ ูู 15 ุฏูููุฉ
```

**ุงูุฅูุฌููุฒูุฉ:**
```
Subject: Two-Factor Authentication Code - Rezge
Content: 6-digit code, valid for 15 minutes
```

### 4. **ุฑูุฒ ุงูุชุญูู ุงูุฅุฏุงุฑู** โ

**ุงูุนุฑุจูุฉ:**
```
ุงูููุถูุน: ุฑูุฒ ุงูุชุญูู ุงูุฅุฏุงุฑู - ุฑุฒูู
ุงููุญุชูู: ุฑูุฒ ุญุณุงุณ ููุนูููุงุช ุงูุฅุฏุงุฑูุฉุ ุตุงูุญ ูู 10 ุฏูุงุฆู
```

**ุงูุฅูุฌููุฒูุฉ:**
```
Subject: Admin Verification Code - Rezge
Content: Sensitive code for admin operations, valid for 10 minutes
```

### 5. **ุชุฃููุฏ ุชุบููุฑ ุงูุจูุงูุงุช** โ

**ุงูุนุฑุจูุฉ:**
```
ุงูููุถูุน: ุชุฃููุฏ ุชุบููุฑ ุจูุงูุงุช ุงูุชูุงุตู - ุฑุฒูู
ุงููุญุชูู: ุงูุชุบููุฑุงุช ุงููุทููุจุฉุ ุฑุงุจุท ุงูุชุฃููุฏ
```

**ุงูุฅูุฌููุฒูุฉ:**
```
Subject: Confirm Contact Information Change - Rezge
Content: Requested changes, confirmation link
```

### 6. **ุฑูุฒ ุฃูุงู ุงูุฅุนุฏุงุฏุงุช** โ

**ุงูุนุฑุจูุฉ:**
```
ุงูููุถูุน: ุฑูุฒ ุฃูุงู ุงูุฅุนุฏุงุฏุงุช - ุฑุฒูู
ุงููุญุชูู: ุฑูุฒ ูุชุฃููู ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุชุ ุตุงูุญ ูู 15 ุฏูููุฉ
```

**ุงูุฅูุฌููุฒูุฉ:**
```
Subject: Security Settings Code - Rezge
Content: Code for securing settings changes, valid for 15 minutes
```

---

## ๐จ ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### โ **ุงูุชุตููู:**
- ุชุฏุฑุฌ ูููู ุฌุฐุงุจ (ุฃุฒุฑู ุฅูู ุจููุณุฌู)
- ุฃููููุงุช ุชุนุจูุฑูุฉ ููุงุณุจุฉ
- ุชุตููู ูุชุฌุงูุจ ูุฌููุน ุงูุฃุฌูุฒุฉ
- ุฃููุงู ูุฎุชููุฉ ุญุณุจ ููุน ุงูุฑุณุงูุฉ (ุฃุฎุถุฑ ูููุฌุงุญุ ุฃุญูุฑ ููุฅุฏุงุฑูุ ุฅูุฎ)

### โ **ุงููุญุชูู:**
- ูุบุฉ ูุงุถุญุฉ ูููุฐุจุฉ
- ุชุนูููุงุช ููุตูุฉ ุฎุทูุฉ ุจุฎุทูุฉ
- ุชุญุฐูุฑุงุช ุฃูููุฉ ูุงุถุญุฉ
- ุฃููุงุช ุงูุชูุงุก ุงูุตูุงุญูุฉ ูุญุฏุฏุฉ

### โ **ุงูุฃูุงู:**
- ุชุญุฐูุฑุงุช ูู ุงููุดุงุฑูุฉ
- ุชูุถูุญ ูุฏุฉ ุงูุตูุงุญูุฉ
- ูุตุงุฆุญ ุฃูููุฉ ูู ูู ุฅูููู
- ุฑุณุงุฆู ูุงุถุญุฉ ููุฅุฌุฑุงุกุงุช ุบูุฑ ุงููุทููุจุฉ

### โ **ุงูุงุชุฌุงู (Direction):**
- RTL ููุนุฑุจูุฉ ูุน ุฎุท Tahoma
- LTR ููุฅูุฌููุฒูุฉ ูุน ุฎุท Arial
- ูุญุงุฐุงุฉ ุตุญูุญุฉ ูููุตูุต
- ุชุฑุชูุจ ุนูุงุตุฑ ููุงุณุจ ููู ูุบุฉ

---

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

1. **`src/lib/finalEmailServiceNew.ts`** - ุงููุธุงู ุงููุชูุฏู ุงููุญุณู
2. **`src/lib/emailTemplates.ts`** - ุงูุชููุจููุช ุงูุฃุณุงุณูุฉ ุงูููุญุฏุฉ
3. **`EMAIL_TEMPLATES_UNIFIED_SYSTEM.md`** - ูุฐุง ุงูุชูุซูู

---

## ๐งช ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

```typescript
// ุงุณุชุฎุฏุงู ุงููุธุงู ุงูููุญุฏ
const template = AdvancedEmailService.generateEmailTemplate(
  'temporary_password', 
  { 
    temporaryPassword: 'ABC123',
    expiresAt: '2025-09-15T08:00:00Z',
    recipientName: 'ุฃุญูุฏ ูุญูุฏ'
  },
  'ar' // ุฃู 'en'
);

// ุฅุฑุณุงู ุงูุฅูููู
await AdvancedEmailService.sendTemporaryPasswordEmail(
  'user@example.com',
  'ABC123',
  '2025-09-15T08:00:00Z',
  'ุฃุญูุฏ ูุญูุฏ',
  'ar'
);
```

---

**ยฉ 2025 ุฑุฒูู - ูููุน ุงูุฒูุงุฌ ุงูุฅุณูุงูู ุงูุดุฑุนู**  
**ุชู ุงูุชุทููุฑ ูุงูุชุญุณูู ุจูุงุณุทุฉ:** Cascade AI Assistant
