# ุชูุฑูุฑ ุชููู: ุงูุญููู ุงููุฎุตุตุฉ ููุฌูุณ ูู ุงูููู ุงูุดุฎุตู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุชูุฑูุฑ ููุซู ุชุทุจูู ูุนูู ุงูุญููู ุงููุฎุตุตุฉ ููุฌูุณ ูู ุตูุญุฉ ุงูููู ุงูุดุฎุตู ููููุน "ุฑุฒูู" - ููุตุฉ ุงูุฒูุงุฌ ุงูุฅุณูุงูู. ูุถูู ุงููุธุงู ุนุฑุถ ุงูุญููู ุงูููุงุณุจุฉ ุญุณุจ ุฌูุณ ุงููุณุชุฎุฏู ูููุงู ููุถูุงุจุท ุงูุดุฑุนูุฉ.

## ๐ฏ ุงููุฏู

ุถูุงู ุนุฑุถ ุงูุญููู ุงูููุงุณุจุฉ ููุท ุญุณุจ ุฌูุณ ุงููุณุชุฎุฏู:
- **ููุฐููุฑ**: ุนุฑุถ ุญูู "ุงููุญูุฉ" ูุฅุฎูุงุก ุญูู "ุงูุญุฌุงุจ"
- **ููุฅูุงุซ**: ุนุฑุถ ุญูู "ุงูุญุฌุงุจ" ูุฅุฎูุงุก ุญูู "ุงููุญูุฉ"

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช (Supabase)

**ุฌุฏูู users:**
```sql
-- ุงูุญููู ุงููุฎุตุตุฉ ููุฌูุณ
beard VARCHAR(50) NULL,        -- ููุฐููุฑ: 'yes', 'no'
hijab VARCHAR(50) NULL,        -- ููุฅูุงุซ: 'no_hijab', 'hijab', 'niqab', 'prefer_not_say'
gender VARCHAR(10) NOT NULL    -- 'male', 'female'
```

### 2. ูููู React (EnhancedProfilePage.tsx)

**ูุชุบูุฑ ูุฑุงูุจุฉ ุงูุฌูุณ:**
```javascript
const watchedGender = userProfile?.gender || 'male';
```

**Schema ุงูุชุญูู ูู ุงูุจูุงูุงุช:**
```javascript
const enhancedProfileSchema = z.object({
  // ุงูุญููู ุงูุดุฑุทูุฉ - ูุชุงุญุฉ ูููุง ุงูุฌูุณูู ูููู ุชุธูุฑ ุญุณุจ ุงูุฌูุณ ููุท
  beard: z.enum(['yes', 'no']).optional().or(z.literal('')), // ููุฐููุฑ ููุท
  hijab: z.enum(['no_hijab', 'hijab', 'niqab', 'prefer_not_say']).optional().or(z.literal('')), // ููุฅูุงุซ ููุท
  // ... ุจุงูู ุงูุญููู
});
```

## ๐ง ุงูุชุทุจูู ุงูุนููู

### 1. ุนุฑุถ ุญูู ุงููุญูุฉ (ููุฐููุฑ ููุท)

```jsx
{/* ุงููุญูุฉ - ููุฐููุฑ ููุท */}
{watchedGender === 'male' && (
  <div>
    <label className="block text-slate-700 font-medium mb-1.5 md:mb-2 text-sm md:text-base">
      ุงููุญูุฉ
    </label>
    <select
      {...register('beard')}
      disabled={!isEditing}
      className="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 disabled:bg-slate-50 disabled:text-slate-600"
    >
      <option value="">ุงุฎุชุฑ...</option>
      <option value="yes">ูุนู</option>
      <option value="no">ูุง</option>
    </select>
    {errors.beard && (
      <p className="text-red-500 text-sm mt-1">{errors.beard.message}</p>
    )}
  </div>
)}
```

### 2. ุนุฑุถ ุญูู ุงูุญุฌุงุจ (ููุฅูุงุซ ููุท)

```jsx
{/* ุงูุญุฌุงุจ - ููุฅูุงุซ ููุท */}
{watchedGender === 'female' && (
  <div>
    <label className="block text-slate-700 font-medium mb-1.5 md:mb-2 text-sm md:text-base">
      ุงูุญุฌุงุจ
    </label>
    <select
      {...register('hijab')}
      disabled={!isEditing}
      className="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 disabled:bg-slate-50 disabled:text-slate-600"
    >
      <option value="">ุงุฎุชุฑ...</option>
      {hijabOptions.map(option => (
        <option key={option.value} value={option.value}>
          {option.label}
        </option>
      ))}
    </select>
    {errors.hijab && (
      <p className="text-red-500 text-sm mt-1">{errors.hijab.message}</p>
    )}
  </div>
)}
```

### 3. ุฎูุงุฑุงุช ุงูุญููู

**ุฎูุงุฑุงุช ุงููุญูุฉ:**
```javascript
// ูุฏูุฌุฉ ูุจุงุดุฑุฉ ูู JSX
<option value="yes">ูุนู</option>
<option value="no">ูุง</option>
```

**ุฎูุงุฑุงุช ุงูุญุฌุงุจ:**
```javascript
const hijabOptions = [
  { value: 'no_hijab', label: 'ุบูุฑ ูุญุฌุจุฉ' },
  { value: 'hijab', label: 'ูุญุฌุจุฉ' },
  { value: 'niqab', label: 'ููุชูุจุฉ' },
  { value: 'prefer_not_say', label: 'ุฃูุถู ุฃู ูุง ุฃููู' }
];
```

## โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

### ููุทู ุงูุชุญูู ุงููุฎุตุต

```javascript
const hasGenderSpecificErrors = () => {
  if (watchedGender === 'male') {
    // ููุฐููุฑ: ุชุฌุงูู ุฃุฎุทุงุก ุญูู ุงูุญุฌุงุจ
    const filteredErrors = Object.keys(errors).filter(key => key !== 'hijab');
    return filteredErrors.length > 0;
  } else {
    // ููุฅูุงุซ: ุชุฌุงูู ุฃุฎุทุงุก ุญูู ุงููุญูุฉ
    const filteredErrors = Object.keys(errors).filter(key => key !== 'beard');
    return filteredErrors.length > 0;
  }
};

const isFormValid = () => {
  return !hasGenderSpecificErrors() && isPhoneValid;
};
```

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

```javascript
const onError = (errors: any) => {
  console.log('โ Form validation errors:', errors);
  console.log('๐ค Current gender:', watchedGender);
  
  // ุชูุตูู ุงูุฃุฎุทุงุก ุญุณุจ ุงูุฌูุณ
  if (watchedGender === 'male' && errors.hijab) {
    console.log('โ๏ธ Hijab error for male user (should be ignored):', errors.hijab);
  }
  if (watchedGender === 'female' && errors.beard) {
    console.log('โ๏ธ Beard error for female user (should be ignored):', errors.beard);
  }
};
```

## ๐ ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ

### ูุณุชุฎุฏู ุฐูุฑ
```json
{
  "email": "kemooamegoo@gmail.com",
  "first_name": "KARIM",
  "gender": "male",
  "beard": "yes",
  "hijab": null
}
```

### ูุณุชุฎุฏูุฉ ุฃูุซู
```json
{
  "email": "fatima.mohammed@test.com",
  "first_name": "ูุงุทูุฉ",
  "gender": "female",
  "hijab": "hijab",
  "beard": null
}
```

## ๐งช ุงูุงุฎุชุจุงุฑุงุช

### 1. ุงุฎุชุจุงุฑ ุงูุนุฑุถ ุงูุดุฑุทู
- โ ุญูู ุงููุญูุฉ ูุธูุฑ ููุฐููุฑ ููุท
- โ ุญูู ุงูุญุฌุงุจ ูุธูุฑ ููุฅูุงุซ ููุท
- โ ุงูุญููู ุบูุฑ ุงูููุงุณุจุฉ ูุฎููุฉ ุชูุงูุงู (ููุณ CSS ููุท)

### 2. ุงุฎุชุจุงุฑ ุงูุชุญูู ูู ุงูุจูุงูุงุช
- โ ุฃุฎุทุงุก ุงูุญููู ุงููุฎููุฉ ูุชู ุชุฌุงูููุง
- โ ุงูุชุญูู ูุนูู ุจุดูู ุตุญูุญ ููุญููู ุงููุฑุฆูุฉ
- โ ุงููููุฐุฌ ููุนุชุจุฑ ุตุญูุญุงู ุนูุฏ ุชุฌุงูู ุงูุฃุฎุทุงุก ุบูุฑ ุงูููุงุณุจุฉ

### 3. ุงุฎุชุจุงุฑ ุญูุธ ุงูุจูุงูุงุช
- โ ุงูุจูุงูุงุช ุชูุญูุธ ูู ุงูุญููู ุงูุตุญูุญุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุงูุจูุงูุงุช ุชุธูุฑ ุจุดูู ุตุญูุญ ุนูุฏ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ุฃุซูุงุก ุนูููุฉ ุงูุญูุธ

## ๐ ุงูุถูุงุจุท ุงูุดุฑุนูุฉ

### 1. ุงููุตู ุจูู ุงูุฌูุณูู
- ุงูุญููู ุงููุฎุตุตุฉ ููุฐููุฑ ูุง ุชุธูุฑ ููุฅูุงุซ
- ุงูุญููู ุงููุฎุตุตุฉ ููุฅูุงุซ ูุง ุชุธูุฑ ููุฐููุฑ
- ููุน ุงูุฎูุท ุฃู ุงูุงูุชุจุงุณ ูู ุงููุนูููุงุช ุงูุดุฎุตูุฉ

### 2. ุงูุฎุตูุตูุฉ ูุงูุงุญุชุฑุงู
- ุฎูุงุฑุงุช "ุฃูุถู ุฃู ูุง ุฃููู" ูุชุงุญุฉ ููุญููู ุงูุญุณุงุณุฉ
- ุนุฏู ุฅุฌุจุงุฑ ุงููุณุชุฎุฏู ุนูู ุงูุฅูุตุงุญ ุนู ูุนูููุงุช ุดุฎุตูุฉ
- ุงุญุชุฑุงู ุงูุฎุตูุตูุฉ ุงูุดุฎุตูุฉ ูุงูุฏูููุฉ

## ๐ ุงููููุงุช ุฐุงุช ุงูุตูุฉ

### 1. ุงููููุงุช ุงูุฃุณุงุณูุฉ
- `src/components/EnhancedProfilePage.tsx` - ุตูุญุฉ ุงูููู ุงูุดุฎุตู
- `src/lib/supabase.ts` - ุฎุฏูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `src/contexts/AuthContext.tsx` - ุณูุงู ุงููุตุงุฏูุฉ

### 2. ูููุงุช ุงูุงุฎุชุจุงุฑ
- `test-profile-gender-fields.html` - ุฏููู ุงุฎุชุจุงุฑ ุดุงูู
- `GENDER_SPECIFIC_FIELDS_REPORT.md` - ูุฐุง ุงูุชูุฑูุฑ

### 3. ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฌุฏูู `users` ูู Supabase ูุน ุญููู `beard` ู `hijab`

## ๐ฏ ุงููุชุงุฆุฌ ูุงูุชูุตูุงุช

### ุงููุชุงุฆุฌ ุงููุญููุฉ
1. โ **ุนุฑุถ ุดุฑุทู ุตุญูุญ**: ุงูุญููู ุชุธูุฑ ุญุณุจ ุงูุฌูุณ ููุท
2. โ **ุชุญูู ุฐูู**: ูุชุฌุงูู ุฃุฎุทุงุก ุงูุญููู ุบูุฑ ุงูููุงุณุจุฉ
3. โ **ุญูุธ ุขูู**: ุงูุจูุงูุงุช ุชูุญูุธ ูู ุงูุญููู ุงูุตุญูุญุฉ
4. โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ**: ูุง ุชูุฌุฏ ุฃุฎุทุงุก ุฃู ุงูุชุจุงุณ

### ุงูุชูุตูุงุช ูููุณุชูุจู
1. **ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุญููู ุงููุฎุตุตุฉ**: ุญุณุจ ุงูุญุงุฌุฉ ูุงููุชุทูุจุงุช ุงูุดุฑุนูุฉ
2. **ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู**: ุฅุถุงูุฉ ุฃููููุงุช ุฃู ุฃููุงู ูููุฒุฉ ููุญููู ุงููุฎุตุตุฉ
3. **ุฅุถุงูุฉ ุชูููุญุงุช**: ุดุฑุญ ุฃูููุฉ ูุฐู ุงูุญููู ูู ุงูุชุทุงุจู ุงูุดุฑุนู
4. **ุงุฎุชุจุงุฑุงุช ุชููุงุฆูุฉ**: ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ููุชุฃูุฏ ูู ุงุณุชูุฑุงุฑ ุนูู ุงูููุฒุฉ

## ๐ ุงูุฃุซุฑ ุนูู ุงูุชุทุงุจู

ูุฐู ุงูุญููู ุงููุฎุตุตุฉ ุชุณุงูู ูู:
- **ุชุญุณูู ุฏูุฉ ุงูุชุทุงุจู**: ูุนูููุงุช ุฃูุซุฑ ุชูุตููุงู ูููุทุงุจูุฉ
- **ุงูุงูุชุฒุงู ุงูุดุฑุนู**: ุถูุงู ุงูุชูุงูู ูู ุงูุฌูุงูุจ ุงูุฏูููุฉ ุงููููุฉ
- **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู**: ูุนูููุงุช ูุงุถุญุฉ ูููุงุณุจุฉ ููู ุฌูุณ
- **ุซูุฉ ุงููุณุชุฎุฏููู**: ูุธุงู ูุญุชุฑู ุงูุฎุตูุตูุฉ ูุงูุถูุงุจุท ุงูุดุฑุนูุฉ

---

**ุชุงุฑูุฎ ุงูุชูุฑูุฑ:** 2025-07-21  
**ุงูุญุงูุฉ:** ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู  
**ุงููุทูุฑ:** Augment Agent  
**ุงููุฑุงุฌุนุฉ:** ุชูุช ูุฑุงุฌุนุฉ ุงูููุฏ ูุงูุงุฎุชุจุงุฑ ุจูุฌุงุญ
