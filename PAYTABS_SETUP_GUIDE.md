# ุฏููู ุฅุนุฏุงุฏ ูุธุงู ุงูุฏูุน PayTabs - ุฑุฒูู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู ูุธุงู ุฏูุน PayTabs ุงููุญุณู ุฎุตูุตุงู ููุณุนูุฏูุฉ ูุงูุฏูู ุงูุนุฑุจูุฉ ูุน ุฏุนู:
- ุงูุจุทุงูุงุช ุงูุงุฆุชูุงููุฉ (ููุฒุงุ ูุงุณุชุฑูุงุฑุฏ)
- ุจุทุงูุฉ ูุฏู ุงูุณุนูุฏูุฉ
- STC Pay (ููุณุนูุฏูุฉ)
- Apple Pay
- ุงูุชุญููู ุงูุจููู

## ๐ ููุงุฐุง PayTabsุ

### โ **ูุฏุนูู ุจุงููุงูู ูู ุงูุณุนูุฏูุฉ**
- ุดุฑูุฉ ูุนุชูุฏุฉ ูู ุงูุจูู ุงููุฑูุฒู ุงูุณุนูุฏู
- ุฏุนู ูุงูู ูุจุทุงูุฉ ูุฏู
- ุฏุนู STC Pay ุงูุฑุณูู

### โ **ุฑุณูู ุชูุงูุณูุฉ**
- ุงูุจุทุงูุงุช ุงูุงุฆุชูุงููุฉ: 2.75%
- ูุฏู: 2.0%
- STC Pay: 1.5%
- ุจุฏูู ุฑุณูู ุฅุนุฏุงุฏ ุฃู ุฑุณูู ุดูุฑูุฉ

### โ **ุฏุนู ููู ููุชุงุฒ**
- ุฏุนู ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ูุฑูู ุฏุนู ูุญูู
- ูุซุงุฆู ุดุงููุฉ

## ๐ ุงููุชุทูุจุงุช

### 1. ุญุณุงุจ PayTabs
- ุฅูุดุงุก ุญุณุงุจ ุนูู [PayTabs](https://www.paytabs.com)
- ุชูุนูู ุงูุญุณุงุจ ููุณุนูุฏูุฉ
- ุงูุญุตูู ุนูู API Keys

### 2. ุงููุณุชูุฏุงุช ุงููุทููุจุฉ
- ุงูุณุฌู ุงูุชุฌุงุฑู
- ุงููููุฉ ุงููุทููุฉ/ุงูุฅูุงูุฉ
- ุนูุฏ ุชุฃุณูุณ ุงูุดุฑูุฉ
- ูุดู ุญุณุงุจ ุจููู

## ๐ง ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### ุงูุฎุทูุฉ 1: ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุงูุณุฎ ููู `.env.example` ุฅูู `.env` ูุฃุถู ุงูููู ุงูุชุงููุฉ:

```bash
# PayTabs Configuration
VITE_PAYTABS_PROFILE_ID=12345                    # ูู PayTabs Dashboard
VITE_PAYTABS_CLIENT_KEY=CJMJRM2N9N-JDKTZD2H9T   # Client Key
PAYTABS_SERVER_KEY=SJMJRM2N9N-JDKTZD2H9T        # Server Key (ุณุฑู)

# Supabase (ููุฌูุฏ ูุณุจูุงู)
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# Payment Settings
DEFAULT_CURRENCY=SAR
SUPPORTED_COUNTRIES=SA,AE,KW,QA,BH,OM
```

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุฃุถู ุงูุฃุนูุฏุฉ ุงูุชุงููุฉ ูุฌุฏูู `payments`:

```sql
-- ุฅุถุงูุฉ ุฃุนูุฏุฉ PayTabs
ALTER TABLE payments 
ADD COLUMN paytabs_tran_ref TEXT,
ADD COLUMN paytabs_cart_id TEXT;

-- ุฅูุดุงุก ููุงุฑุณ ููุจุญุซ ุงูุณุฑูุน
CREATE INDEX idx_payments_paytabs_tran ON payments(paytabs_tran_ref);
CREATE INDEX idx_payments_paytabs_cart ON payments(paytabs_cart_id);
```

### ุงูุฎุทูุฉ 3: ุฅุนุฏุงุฏ Callback URL ูู PayTabs

1. ุงุฐูุจ ุฅูู [PayTabs Dashboard](https://secure.paytabs.sa)
2. ุงุฐูุจ ุฅูู Settings > Integration
3. ุฃุถู Callback URL: `https://yourdomain.com/api/paytabs/callback`
4. ูุนู IPN (Instant Payment Notification)

### ุงูุฎุทูุฉ 4: ุชุดุบูู ุงููุธุงู

```bash
# ุชุดุบูู Frontend
npm run dev

# ุชุดุบูู Backend API (ูู terminal ูููุตู)
cd api
npm install
npm run dev
```

## ๐ ุฅุนุฏุงุฏุงุช ุงูุฏูู ุงููุฏุนููุฉ

### ุงูุณุนูุฏูุฉ (SA) - ุงูุฏุนู ุงููุงูู
- โ ุงูุจุทุงูุงุช ุงูุงุฆุชูุงููุฉ (ููุฒุงุ ูุงุณุชุฑูุงุฑุฏ)
- โ ุจุทุงูุฉ ูุฏู
- โ STC Pay
- โ Apple Pay
- โ ุงูุชุญููู ุงูุจููู

### ุงูุฅูุงุฑุงุช (AE)
- โ ุงูุจุทุงูุงุช ุงูุงุฆุชูุงููุฉ
- โ Apple Pay
- โ ุงูุชุญููู ุงูุจููู

### ุฏูู ุงูุฎููุฌ ุงูุฃุฎุฑู (KW, QA, BH, OM)
- โ ุงูุจุทุงูุงุช ุงูุงุฆุชูุงููุฉ
- โ Apple Pay
- โ ุงูุชุญููู ุงูุจููู

### ูุตุฑ ูุงูุฃุฑุฏู (EG, JO)
- โ ุงูุจุทุงูุงุช ุงูุงุฆุชูุงููุฉ
- โ ุงูุชุญููู ุงูุจููู

## ๐ฐ ุงูุนููุงุช ูุงูุฑุณูู

| ุทุฑููุฉ ุงูุฏูุน | ุงูุฑุณูู | ุงูุนููุงุช ุงููุฏุนููุฉ |
|-------------|--------|------------------|
| ุงูุจุทุงูุงุช ุงูุงุฆุชูุงููุฉ | 2.75% | SAR, USD, EUR, AED |
| ูุฏู | 2.0% | SAR |
| STC Pay | 1.5% | SAR |
| Apple Pay | 2.75% | SAR, USD, AED |
| ุงูุชุญููู ุงูุจููู | 0% | ุฌููุน ุงูุนููุงุช |

## ๐ ุงูุฃูุงู

### ุฅุนุฏุงุฏุงุช ุงูุฃูุงู ุงููุทุจูุฉ:
- โ ุชุดููุฑ SSL/TLS
- โ 3D Secure ููุจุทุงูุงุช
- โ ุงูุชุญูู ูู CVV
- โ ูุฑุงูุจุฉ ุงููุนุงููุงุช ุงููุดุจููุฉ
- โ Callback verification

### ุฃูุถู ุงูููุงุฑุณุงุช:
- ุงุญุชูุธ ุจู Server Key ุณุฑูุงู
- ุงุณุชุฎุฏู HTTPS ูู ุงูุฅูุชุงุฌ
- ุฑุงูุจ ุงููุนุงููุงุช ุจุงูุชุธุงู
- ุงุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ

## ๐ ุงููุฑุงูุจุฉ ูุงูุฅุญุตุงุฆูุงุช

### ููุญุฉ ุงูุฅุฏุงุฑุฉ ุชุนุฑุถ:
- ูุนุฏู ูุฌุงุญ ุงูุฏูุน
- ุนุฏุฏ ุงููุนุงููุงุช
- ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ
- ุชูุฒูุน ุทุฑู ุงูุฏูุน

### PayTabs Dashboard ูููุฑ:
- ุชูุงุตูู ูู ูุนุงููุฉ
- ุชูุงุฑูุฑ ูุงููุฉ ุดุงููุฉ
- ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก
- ุชูุจููุงุช ุงูุฃูุงู

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุจูุงูุงุช ุงุฎุชุจุงุฑ PayTabs:

```
# ุจุทุงูุฉ ูุฌุงุญ
ุฑูู ุงูุจุทุงูุฉ: 4000000000000002
ุชุงุฑูุฎ ุงูุงูุชูุงุก: 12/25
CVV: 123

# ุจุทุงูุฉ ูุดู
ุฑูู ุงูุจุทุงูุฉ: 4000000000000010
ุชุงุฑูุฎ ุงูุงูุชูุงุก: 12/25
CVV: 123

# ุจุทุงูุฉ ูุฏู (ููุงุฎุชุจุงุฑ)
ุฑูู ุงูุจุทุงูุฉ: 5000000000000004
ุชุงุฑูุฎ ุงูุงูุชูุงุก: 12/25
CVV: 123
```

### ุงุฎุชุจุงุฑ STC Pay:
- ุฑูู ุฌูุงู: `+966501234567`
- ููุฏ ุงูุชุญูู: `1234`

## ๐ ุงููุดุฑ ูู ุงูุฅูุชุงุฌ

### 1. ุชุญุฏูุซ ุงููุชุบูุฑุงุช:
```bash
VITE_PAYTABS_PROFILE_ID=your_live_profile_id
VITE_PAYTABS_CLIENT_KEY=your_live_client_key
PAYTABS_SERVER_KEY=your_live_server_key
```

### 2. ุชูุนูู ุงูุญุณุงุจ:
- ุฃููู ุนูููุฉ ุงูุชุญูู ูู PayTabs
- ูุนู ุงููุฏููุนุงุช ุงููุจุงุดุฑุฉ
- ุงุฎุชุจุฑ ุฌููุน ุทุฑู ุงูุฏูุน

### 3. ูุฑุงูุจุฉ ุงููุธุงู:
- ุฑุงูุจ logs ุงูุฎุงุฏู
- ุชุงุจุน ุฅุญุตุงุฆูุงุช PayTabs
- ุงุฎุชุจุฑ Callbacks ุจุงูุชุธุงู

## โ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:

#### 1. Callback ูุง ูุนูู
```bash
# ุชุญูู ูู URL
curl -X POST https://yourdomain.com/api/paytabs/callback

# ุชุญูู ูู logs
tail -f logs/paytabs.log
```

#### 2. ูุดู ูู ุงูุฏูุน
- ุชุญูู ูู ุตุญุฉ API Keys
- ุชุฃูุฏ ูู ุชูุนูู ุทุฑููุฉ ุงูุฏูุน
- ุฑุงุฌุน ุญุฏูุฏ ุงููุจุงูุบ

#### 3. ูุดุงูู ุงูุนููุฉ
- ุชุฃูุฏ ูู ุฏุนู ุงูุนููุฉ ูู ุจูุฏู
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช PayTabs

## ๐ ุงูุฏุนู

### ููุงุฑุฏ ูููุฏุฉ:
- [PayTabs Documentation](https://support.paytabs.com)
- [PayTabs API Reference](https://dev.paytabs.com)
- [Supabase Integration](https://supabase.com/docs)

### ูู ุญุงูุฉ ุงููุดุงูู:
1. ุฑุงุฌุน logs ุงูุฎุงุฏู
2. ุชุญูู ูู PayTabs Dashboard
3. ุงุฎุชุจุฑ Callback manually
4. ุชูุงุตู ูุน ุฏุนู PayTabs

### ูุนูููุงุช ุงูุงุชุตุงู:
- **ุงููุงุชู**: 920033633
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: support@paytabs.com
- **ุงูุฏุนู ุงูููู**: 24/7

## ๐ ุงููุฒุงูุง ุงูุฅุถุงููุฉ

### 1. **ุชูุงุฑูุฑ ููุตูุฉ**
- ุชูุงุฑูุฑ ููููุฉ/ุดูุฑูุฉ/ุณูููุฉ
- ุชุญููู ุณููู ุงูุนููุงุก
- ุฅุญุตุงุฆูุงุช ุทุฑู ุงูุฏูุน

### 2. **ุฃุฏูุงุช ุฅุฏุงุฑูุฉ**
- ุฅุฏุงุฑุฉ ุงููุจุงูุบ ุงููุณุชุฑุฏุฉ
- ุชุฌููุฏ/ุฅูุบุงุก ุชุฌููุฏ ุงููุนุงููุงุช
- ุฅุนุฏุงุฏุงุช ุงูุฃูุงู ุงููุชูุฏูุฉ

### 3. **ุงูุชูุงูู ุงููุชูุฏู**
- APIs ูุชูุฏูุฉ
- Webhooks ูุฎุตุตุฉ
- ุชูุงูู ูุน ุฃูุธูุฉ ุงููุญุงุณุจุฉ

---

**ุชู ุฅุนุฏุงุฏ ูุธุงู PayTabs ุจูุฌุงุญ! ๐**

ุงููุธุงู ุฌุงูุฒ ุงูุขู ููุนุงูุฌุฉ ุงููุฏููุนุงุช ุจุฃูุงู ูููุงุกุฉ ูู ุงูุณุนูุฏูุฉ ูุงูุฏูู ุงูุนุฑุจูุฉ ูุน ุฏุนู ูุงูู ูุฌููุน ุทุฑู ุงูุฏูุน ุงููุญููุฉ.
