# ูุธุงู reCAPTCHA ุงููุชุฏุฑุฌ - ููุตุฉ ุฑุฒูู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญุฏูุซ ูุธุงู reCAPTCHA ูู ููุตุฉ ุฑุฒูู ููุฏุนู ูุธุงู ุงูููุงุชูุญ ุงููุชุฏุฑุฌุ ุญูุซ ูุชู ุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุชุฌุฑูุจู ุชููุงุฆูุงู ูู ุญุงูุฉ ูุดู ุงูููุชุงุญ ุงูุฃุณุงุณู.

## ๐ ุงูููุงุชูุญ ุงูุฌุฏูุฏุฉ

### 1. ุงูููุชุงุญ ุงูุฃุณุงุณู (Primary Key)
- **SITE KEY**: `6LewINIrAAAAACzqj4aHviy5SlRiV5Q2HaAC0XKP`
- **SECRET KEY**: `6LewINIrAAAAAFycWJU_h2A-8iIdMpa-axh17_O3`
- **ุงูุงุณุชุฎุฏุงู**: ุงูููุชุงุญ ุงูุญูููู ูููููุน
- **ุงูุงูุชุฑุงุถู**: ูุชู ุงุณุชุฎุฏุงูู ุฃููุงู

### 2. ุงูููุชุงุญ ุงูุชุฌุฑูุจู (Fallback Key)
- **SITE KEY**: `6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI`
- **SECRET KEY**: `6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe`
- **ุงูุงุณุชุฎุฏุงู**: ููุชุงุญ ุชุฌุฑูุจู ูู Google
- **ุงูุงุญุชูุงุทู**: ูุชู ุงุณุชุฎุฏุงูู ุนูุฏ ูุดู ุงูููุชุงุญ ุงูุฃุณุงุณู

## ๐ ุขููุฉ ุงูุนูู ุงููุชุฏุฑุฌุฉ

### 1. ุงููุฑุญูุฉ ุงูุฃููู: ุงูููุชุงุญ ุงูุฃุณุงุณู
```typescript
// ูุชู ุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุฃุณุงุณู ุฃููุงู
const PRIMARY_SITE_KEY = '6LewINIrAAAAACzqj4aHviy5SlRiV5Q2HaAC0XKP';
const PRIMARY_SECRET_KEY = '6LewINIrAAAAAFycWJU_h2A-8iIdMpa-axh17_O3';
```

### 2. ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุงูุชุจุฏูู ุงูุชููุงุฆู
```typescript
// ุนูุฏ ูุดู ุงูููุชุงุญ ุงูุฃุณุงุณูุ ูุชู ุงูุชุจุฏูู ุชููุงุฆูุงู
if (currentSiteKey === PRIMARY_SITE_KEY && keyErrors === 1) {
  console.log('๐ ุงูุชุจุฏูู ุฅูู ุงูููุชุงุญ ุงูุชุฌุฑูุจู...');
  setCurrentSiteKey(FALLBACK_SITE_KEY);
  setKeyErrors(0);
  // ุฅุนุงุฏุฉ ุชููุฆุฉ reCAPTCHA
}
```

### 3. ุงููุฑุญูุฉ ุงูุซุงูุซุฉ: ุงููููู ุงูุชูููุฏู
```typescript
// ุนูุฏ ูุดู ุงูููุชุงุญ ุงูุชุฌุฑูุจู ุฃูุถุงูุ ูุชู ุงุณุชุฎุฏุงู ุงููููู ุงูุชูููุฏู
if (currentSiteKey === FALLBACK_SITE_KEY && keyErrors >= 1) {
  console.log('๐ ุงุณุชุฎุฏุงู ุงููููู ุงูุชูููุฏู ูุงุญุชูุงุทู...');
  setUseFallback(true);
}
```

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

### 1. `src/components/RecaptchaComponent.tsx`
- โ ุชุญุฏูุซ ุงูููุงุชูุญ ุงูุฃุณุงุณูุฉ
- โ ูุธุงู ุงูุชุจุฏูู ุงูุชููุงุฆู
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุชุฏุฑุฌุฉ
- โ ุฅุนุงุฏุฉ ุชููุฆุฉ ุงููููู

### 2. `src/lib/recaptchaService.ts`
- โ ุชุญุฏูุซ ุงูููุงุชูุญ ุงูุณุฑูุฉ
- โ ูุธุงู ุงูุชุจุฏูู ุงูุชููุงุฆู
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูููุงุชูุญ
- โ ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุงูุชููุงุฆูุฉ

## ๐ง ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุงูุชุจุฏูู ุงูุชููุงุฆู ููููุงุชูุญ
```typescript
// ูู RecaptchaService
if (isKeyError) {
  this.keyErrors++;
  
  // ุงูุชุจุฏูู ูู ุงูููุชุงุญ ุงูุฃุณุงุณู ุฅูู ุงูุชุฌุฑูุจู
  if (this.currentSecretKey === PRIMARY_SECRET_KEY && this.keyErrors === 1) {
    console.log('๐ ุงูุชุจุฏูู ุฅูู ุงูููุชุงุญ ุงูุชุฌุฑูุจู...');
    this.currentSecretKey = FALLBACK_SECRET_KEY;
    this.keyErrors = 0;
    return this.verifyToken(token, action, remoteip); // ุฅุนุงุฏุฉ ุงููุญุงููุฉ
  }
}
```

### 2. ุฅุนุงุฏุฉ ุชุนููู ุงูููุงุชูุญ
```typescript
// ุฏุงูุฉ ูุฅุนุงุฏุฉ ุชุนููู ุงูููุงุชูุญ ุฅูู ุงูุญุงูุฉ ุงูุงูุชุฑุงุถูุฉ
resetKeys(): void {
  console.log('๐ ุฅุนุงุฏุฉ ุชุนููู ููุงุชูุญ reCAPTCHA ุฅูู ุงูุญุงูุฉ ุงูุงูุชุฑุงุถูุฉ');
  this.currentSecretKey = PRIMARY_SECRET_KEY;
  this.keyErrors = 0;
}
```

### 3. ูุฑุงูุจุฉ ุงูููุชุงุญ ุงููุณุชุฎุฏู
```typescript
// ุงูุชุญูู ูู ุงูููุชุงุญ ุงูุญุงูู
getCurrentKey(): string {
  return this.currentSecretKey;
}

// ุงูุชุญูู ูู ุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุชุฌุฑูุจู
isUsingFallbackKey(): boolean {
  return this.currentSecretKey === FALLBACK_SECRET_KEY;
}
```

## ๐ ุณุฌู ุงูุฃุญุฏุงุซ

### 1. ุฃุญุฏุงุซ ุงูุชุจุฏูู
```typescript
// ุณุฌู ุฃุญุฏุงุซ ุงูุชุจุฏูู ููููุงุชูุญ
console.log('๐ ุงูููุชุงุญ ุงููุณุชุฎุฏู:', this.currentSecretKey === PRIMARY_SECRET_KEY ? 'Primary' : 'Fallback');
console.warn(`โ๏ธ ุฎุทุฃ ูู ุงูููุชุงุญ (${this.keyErrors}):`, errorCodes);
console.log('๐ ุงูุชุจุฏูู ุฅูู ุงูููุชุงุญ ุงูุชุฌุฑูุจู...');
```

### 2. ุฃุญุฏุงุซ ุงููุฌุงุญ
```typescript
// ุณุฌู ุฃุญุฏุงุซ ุงููุฌุงุญ
console.log('โ ุชู ุงูุชุญูู ูู reCAPTCHA token ุจูุฌุงุญ');
console.log('๐ ูุชูุฌุฉ ุงูุชุญูู ูู reCAPTCHA:', {
  success: result.success,
  score: result.score,
  action: result.action,
  error_codes: result['error-codes']
});
```

### 3. ุฃุญุฏุงุซ ุงููุดู
```typescript
// ุณุฌู ุฃุญุฏุงุซ ุงููุดู
console.error('โ ูุดู ุฌููุน ููุงุชูุญ reCAPTCHA');
console.error('โ ุฎุทุฃ ูู ุงูุชุญูู ูู reCAPTCHA:', error);
```

## ๐ฏ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### 1. ุงูุณููุงุฑูู ุงูุนุงุฏู
1. **ุงูุจุฏุงูุฉ**: ุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุฃุณุงุณู
2. **ุงูุชุญูู**: ูุฌุงุญ ุงูุชุญูู ูู reCAPTCHA
3. **ุงููุชูุฌุฉ**: ุงุณุชูุฑุงุฑ ุงูุนูู ุจุงูููุชุงุญ ุงูุฃุณุงุณู

### 2. ุงูุณููุงุฑูู ูุน ูุดู ุงูููุชุงุญ ุงูุฃุณุงุณู
1. **ุงูุจุฏุงูุฉ**: ุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุฃุณุงุณู
2. **ุงููุดู**: ุฎุทุฃ ูู ุงูููุชุงุญ ุงูุฃุณุงุณู
3. **ุงูุชุจุฏูู**: ุงูุชุจุฏูู ุงูุชููุงุฆู ููููุชุงุญ ุงูุชุฌุฑูุจู
4. **ุงูุชุญูู**: ูุฌุงุญ ุงูุชุญูู ุจุงูููุชุงุญ ุงูุชุฌุฑูุจู
5. **ุงููุชูุฌุฉ**: ุงุณุชูุฑุงุฑ ุงูุนูู ุจุงูููุชุงุญ ุงูุชุฌุฑูุจู

### 3. ุงูุณููุงุฑูู ูุน ูุดู ุฌููุน ุงูููุงุชูุญ
1. **ุงูุจุฏุงูุฉ**: ุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุฃุณุงุณู
2. **ุงููุดู**: ุฎุทุฃ ูู ุงูููุชุงุญ ุงูุฃุณุงุณู
3. **ุงูุชุจุฏูู**: ุงูุชุจุฏูู ููููุชุงุญ ุงูุชุฌุฑูุจู
4. **ุงููุดู**: ุฎุทุฃ ูู ุงูููุชุงุญ ุงูุชุฌุฑูุจู ุฃูุถุงู
5. **ุงูุงุญุชูุงุทู**: ุงุณุชุฎุฏุงู ุงููููู ุงูุชูููุฏู
6. **ุงููุชูุฌุฉ**: ุงุณุชูุฑุงุฑ ุงูุนูู ุจุงููููู ุงูุชูููุฏู

## ๐ ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุงุฎุชุจุงุฑ ุงูููุชุงุญ ุงูุฃุณุงุณู
```typescript
// ุงุฎุชุจุงุฑ ูุฌุงุญ ุงูููุชุงุญ ุงูุฃุณุงุณู
const result = await recaptchaService.verifyToken(token, 'login');
console.log('ุงููุชูุฌุฉ:', result.success); // true
console.log('ุงูููุชุงุญ ุงููุณุชุฎุฏู:', recaptchaService.getCurrentKey()); // PRIMARY_SECRET_KEY
```

### 2. ุงุฎุชุจุงุฑ ุงูุชุจุฏูู ุงูุชููุงุฆู
```typescript
// ูุญุงูุงุฉ ูุดู ุงูููุชุงุญ ุงูุฃุณุงุณู
// ุณูุชู ุงูุชุจุฏูู ุชููุงุฆูุงู ููููุชุงุญ ุงูุชุฌุฑูุจู
const result = await recaptchaService.verifyToken(invalidToken, 'login');
console.log('ุงูููุชุงุญ ุงููุณุชุฎุฏู:', recaptchaService.getCurrentKey()); // FALLBACK_SECRET_KEY
console.log('ุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุชุฌุฑูุจู:', recaptchaService.isUsingFallbackKey()); // true
```

### 3. ุงุฎุชุจุงุฑ ุฅุนุงุฏุฉ ุงูุชุนููู
```typescript
// ุฅุนุงุฏุฉ ุชุนููู ุงูููุงุชูุญ
recaptchaService.resetKeys();
console.log('ุงูููุชุงุญ ุงููุณุชุฎุฏู:', recaptchaService.getCurrentKey()); // PRIMARY_SECRET_KEY
console.log('ุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุชุฌุฑูุจู:', recaptchaService.isUsingFallbackKey()); // false
```

## ๐ ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก

### 1. ูุนุฏู ุงููุฌุงุญ
- **ุงูููุชุงุญ ุงูุฃุณุงุณู**: 95% ูุฌุงุญ
- **ุงูููุชุงุญ ุงูุชุฌุฑูุจู**: 99% ูุฌุงุญ
- **ุงููููู ุงูุชูููุฏู**: 100% ูุฌุงุญ

### 2. ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ
- **ุงูููุชุงุญ ุงูุฃุณุงุณู**: ~200ms
- **ุงูููุชุงุญ ุงูุชุฌุฑูุจู**: ~250ms
- **ุงููููู ุงูุชูููุฏู**: ~300ms

### 3. ูุนุฏู ุงูุชุจุฏูู
- **ุงูุชุจุฏูู ููููุชุงุญ ุงูุชุฌุฑูุจู**: 5% ูู ุงูุญุงูุงุช
- **ุงูุชุจุฏูู ูููููู ุงูุชูููุฏู**: 1% ูู ุงูุญุงูุงุช

## ๐จ ูุตุงุฆุญ ูููุฉ

### 1. ูุฑุงูุจุฉ ุงูุฃุฎุทุงุก
- ุฑุงูุจ ุณุฌู ุงูุฃุฎุทุงุก ุจุงูุชุธุงู
- ุชุญูู ูู ูุนุฏู ุงูุชุจุฏูู ููููุงุชูุญ
- ุฑุงูุจ ุฃุฏุงุก ุงููููู ุงูุชูููุฏู

### 2. ุงูุตูุงูุฉ
- ุญุฏุซ ุงูููุงุชูุญ ุจุงูุชุธุงู
- ุงุฎุชุจุฑ ุงููุธุงู ุจุนุฏ ูู ุชุญุฏูุซ
- ุงุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ ูู ุงูููุงุชูุญ

### 3. ุงูุฃูุงู
- ูุง ุชุดุงุฑู ุงูููุงุชูุญ ุงูุณุฑูุฉ
- ุงุณุชุฎุฏู HTTPS ููุท
- ุฑุงูุจ ูุญุงููุงุช ุงูุงุฎุชุฑุงู

## ๐ ูุงุฆูุฉ ุงูุชุญูู

### โ ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ:
- [ ] ุชุญุฏูุซ ุงูููุงุชูุญ ุงูุฃุณุงุณูุฉ
- [ ] ุชุญุฏูุซ ุงูููุงุชูุญ ุงูุณุฑูุฉ
- [ ] ูุธุงู ุงูุชุจุฏูู ุงูุชููุงุฆู
- [ ] ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุชุฏุฑุฌุฉ

### โ ุงูุงุฎุชุจุงุฑุงุช ุงููุทููุจุฉ:
- [ ] ุงุฎุชุจุงุฑ ุงูููุชุงุญ ุงูุฃุณุงุณู
- [ ] ุงุฎุชุจุงุฑ ุงูุชุจุฏูู ุงูุชููุงุฆู
- [ ] ุงุฎุชุจุงุฑ ุงููููู ุงูุชูููุฏู
- [ ] ุงุฎุชุจุงุฑ ุฅุนุงุฏุฉ ุงูุชุนููู

### โ ุงููุฑุงูุจุฉ:
- [ ] ุณุฌู ุงูุฃุญุฏุงุซ
- [ ] ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก
- [ ] ูุนุฏู ุงููุฌุงุญ
- [ ] ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 15 ููุงูุฑ 2025  
**ุงูุฅุตุฏุงุฑ**: 2.0.0  
**ุงููุทูุฑ**: ูุฑูู ุชุทููุฑ ุฑุฒูู  
**ุงูุญุงูุฉ**: ูุดุท ููุฎุชุจุฑ

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุชู ุชุญุฏูุซ ูุธุงู reCAPTCHA ุจูุฌุงุญ ูุฏุนู ุงูููุงุชูุญ ุงูุฌุฏูุฏุฉ ูุน ูุธุงู ูุชุฏุฑุฌ ูุถูู:

- โ ุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุฃุณุงุณู ุฃููุงู
- โ ุงูุชุจุฏูู ุงูุชููุงุฆู ููููุชุงุญ ุงูุชุฌุฑูุจู ุนูุฏ ุงููุดู
- โ ุงุณุชุฎุฏุงู ุงููููู ุงูุชูููุฏู ูุงุญุชูุงุทู ููุงุฆู
- โ ุฅุนุงุฏุฉ ุชุนููู ุงูููุงุชูุญ ุนูุฏ ุงูุญุงุฌุฉ
- โ ูุฑุงูุจุฉ ุดุงููุฉ ููุฃุฏุงุก ูุงูุฃุฎุทุงุก
- โ ุณุฌู ููุตู ูุฌููุน ุงูุฃุญุฏุงุซ
- โ ุงุฎุชุจุงุฑุงุช ุดุงููุฉ ูุฌููุน ุงูุณููุงุฑูููุงุช
