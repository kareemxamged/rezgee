# ุฅุนุฏุงุฏ ุฎุงุฏู SMTP ูุญูู ููุงุฎุชุจุงุฑ - ุฑุฒูู

## ๐ ุฅุนุฏุงุฏ ุณุฑูุน

### 1. ุชุซุจูุช ุงููุชุทูุจุงุช
```bash
# ุฅูุดุงุก ูุฌูุฏ ุฌุฏูุฏ ููุฎุงุฏู ุงููุญูู
mkdir local-smtp-server
cd local-smtp-server

# ูุณุฎ ูููุงุช ุงูุฎุงุฏู
copy ..\local-smtp-server.js .
copy ..\package-smtp.json package.json

# ุชุซุจูุช ุงููุชุทูุจุงุช
npm install
```

### 2. ุฅุนุฏุงุฏ Gmail App Password
1. ุงุฐูุจ ุฅูู [Google Account Settings](https://myaccount.google.com/)
2. ุงุฎุชุฑ "Security" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
3. ูู ูุณู "Signing in to Google"ุ ุงุฎุชุฑ "2-Step Verification"
4. ูู ุฃุณูู ุงูุตูุญุฉุ ุงุฎุชุฑ "App passwords"
5. ุงุฎุชุฑ "Mail" ู "Other (Custom name)"
6. ุงูุชุจ "Rezge Local SMTP"
7. ุงูุณุฎ ูููุฉ ุงููุฑูุฑ ุงูุชู ุชุธูุฑ (16 ุญุฑู)

### 3. ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช ุงูุฎุงุฏู
ุงูุชุญ `local-smtp-server.js` ูุญุฏุซ:
```javascript
const transporter = nodemailer.createTransporter({
  service: 'gmail',
  auth: {
    user: 'kemooamegoo@gmail.com', // ุจุฑูุฏู ุงูุฅููุชุฑููู
    pass: 'your-16-character-app-password' // ูููุฉ ูุฑูุฑ ุงูุชุทุจูู
  }
});
```

### 4. ุชุดุบูู ุงูุฎุงุฏู
```bash
npm start
```

ุณุชุธูุฑ ุฑุณุงูุฉ:
```
๐ ุฎุงุฏู SMTP ูุญูู ูุนูู ุนูู ุงููููุฐ 3001
๐ง ุฑุงุจุท ุงูุฅุฑุณุงู: http://localhost:3001/send-email
๐งช ุฑุงุจุท ุงูุงุฎุชุจุงุฑ: http://localhost:3001/test
```

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุงุฎุชุจุงุฑ ุงูุฎุงุฏู
ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู: `http://localhost:3001/test`

### 2. ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุฅูููู
```bash
curl -X POST http://localhost:3001/send-email \
  -H "Content-Type: application/json" \
  -d '{
    "to": "kemooamegoo@gmail.com",
    "subject": "ุงุฎุชุจุงุฑ ุฅูููู",
    "html": "<h1>ูุฑุญุจุงู!</h1><p>ูุฐุง ุงุฎุชุจุงุฑ ูุฅุฑุณุงู ุงูุฅููููุงุช.</p>",
    "text": "ูุฑุญุจุงู! ูุฐุง ุงุฎุชุจุงุฑ ูุฅุฑุณุงู ุงูุฅููููุงุช.",
    "from": "ุฑุฒูู - ููุตุฉ ุงูุฒูุงุฌ ุงูุฅุณูุงูู ุงูุดุฑุนู <kemooamegoo@gmail.com>"
  }'
```

### 3. ุงุฎุชุจุงุฑ ูู ุงูุชุทุจูู
ุงูุขู ุนูุฏูุง ุชููู ุจุฅุนุฌุงุจ ุฃู ุฅุฑุณุงู ุฑุณุงูุฉุ ุณูุชู ุฅุฑุณุงู ุงูุฅูููู ุนุจุฑ ุงูุฎุงุฏู ุงููุญูู.

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### 1. ุฎุทุฃ "Authentication failed"
- ุชุฃูุฏ ูู ุชูุนูู 2-Step Verification
- ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู App Password ูููุณ ูููุฉ ุงููุฑูุฑ ุงูุนุงุฏูุฉ
- ุชุฃูุฏ ูู ุตุญุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

### 2. ุฎุทุฃ "Connection timeout"
- ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู ุนูู ุงููููุฐ 3001
- ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฌุฏุงุฑ ุญูุงูุฉ ูุญุฌุจ ุงููููุฐ

### 3. ุฎุทุฃ "Invalid credentials"
- ุชุฃูุฏ ูู ุตุญุฉ App Password (16 ุญุฑู)
- ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช ุฅุถุงููุฉ

## ๐ง ุฃููุงุน ุงูุฅููููุงุช ุงููุฏุนููุฉ

1. **ุฅูููู ุงูุฅุนุฌุงุจ** - ุนูุฏ ุงูุฅุนุฌุงุจ ุจูุณุชุฎุฏู
2. **ุฅูููู ุฒูุงุฑุฉ ุงูููู ุงูุดุฎุตู** - ุนูุฏ ูุดุงูุฏุฉ ุงูููู ุงูุดุฎุตู
3. **ุฅูููู ุงูุฑุณุงูุฉ ุงูุฌุฏูุฏุฉ** - ุนูุฏ ุฅุฑุณุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ
4. **ุฅูููู ุงูุจูุงุบ** - ุนูุฏ ุงูุฅุจูุงุบ ุนู ูุณุชุฎุฏู
5. **ุฅูููู ุชุญุฏูุซ ุญุงูุฉ ุงูุจูุงุบ** - ุนูุฏ ูุจูู/ุฑูุถ ุงูุจูุงุบ
6. **ุฅูููู ุชุญุฏูุซ ุญุงูุฉ ุงูุชูุซูู** - ุนูุฏ ูุจูู/ุฑูุถ ุทูุจ ุงูุชูุซูู
7. **ุฅูููู ุงูุญุธุฑ/ุฅูุบุงุก ุงูุญุธุฑ** - ุนูุฏ ุญุธุฑ ุฃู ุฅูุบุงุก ุญุธุฑ ุงููุณุชุฎุฏู
8. **ุฅูููู ุงูุชูุจูู ุงูุฅุฏุงุฑู** - ุนูุฏ ุฅุฑุณุงู ุชูุจูู ุฅุฏุงุฑู

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุชุดุบูู ุงูุฎุงุฏู ุงููุญูู** - ููุงุฎุชุจุงุฑ ุงููุญูู
2. **ุงุฎุชุจุงุฑ ุงูุฅููููุงุช** - ุชุฃูุฏ ูู ูุตูููุง
3. **ุชุทุจูู ุงููุธุงู** - ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ
4. **ูุฑุงูุจุฉ ุงูุฃุฏุงุก** - ูู ุฎูุงู ุงูุณุฌูุงุช

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู ูู Terminal
2. ุชุญูู ูู ุณุฌูุงุช ุงููุชุตูุญ (F12)
3. ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช Gmail App Password
4. ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู ุนูู ุงููููุฐ ุงูุตุญูุญ

---

**ููุงุญุธุฉ:** ูุฐุง ุงูุฎุงุฏู ูุฎุตุต ููุงุฎุชุจุงุฑ ุงููุญูู ููุท. ูู ุจูุฆุฉ ุงูุฅูุชุงุฌุ ุงุณุชุฎุฏู ุฎุฏูุงุช SMTP ุงุญุชุฑุงููุฉ ูุซู SendGrid ุฃู Mailgun.
```env
# ุฅุนุฏุงุฏุงุช SMTP
SMTP_HOST=smtp.hostinger.com
SMTP_PORT=465
SMTP_USER=manage@kareemamged.com
SMTP_PASS=Kareem@2024
SMTP_FROM_NAME=ุฑุฒูู - ูููุน ุงูุฒูุงุฌ ุงูุฅุณูุงูู

# ุฅุนุฏุงุฏุงุช ุงูุฎุงุฏู
PORT=3001
NODE_ENV=production

# ููุฅูุชุงุฌ - URL ุงูุฎุงุฏู ุงููุฑููุน
SMTP_SERVER_URL=https://your-smtp-server.herokuapp.com
```

## ๐ ุชุดุบูู ุงูุฎุงุฏู

### ููุชุทููุฑ ุงููุญูู:

```bash
# ุชุดุบูู ุงูุฎุงุฏู
npm start

# ุฃู ููุชุทููุฑ ูุน ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู
npm run dev
```

### ููุฅูุชุงุฌ:

```bash
# ุชุดุบูู ุงูุฎุงุฏู ูู ุงูุฅูุชุงุฌ
NODE_ENV=production npm start
```

## ๐งช ุงุฎุชุจุงุฑ ุงูุฎุงุฏู

### 1. ุงุฎุชุจุงุฑ ุญุงูุฉ ุงูุฎุงุฏู:

```bash
curl http://localhost:3001/status
```

### 2. ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุจุฑูุฏ ุฅููุชุฑููู:

```bash
curl -X POST http://localhost:3001/send-email \
  -H "Content-Type: application/json" \
  -d '{
    "to": "test@example.com",
    "subject": "ุงุฎุชุจุงุฑ ุฎุงุฏู SMTP",
    "html": "<h1>ูุฑุญุจุงู ูู ุฑุฒูู!</h1>",
    "text": "ูุฑุญุจุงู ูู ุฑุฒูู!"
  }'
```

### 3. ุงุฎุชุจุงุฑ ูู ุงูุชุทุจูู:

```typescript
import { LocalSMTPService } from './src/lib/localSMTPService';

// ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
const isConnected = await LocalSMTPService.testConnection();
console.log('ุฎุงุฏู SMTP ูุชุงุญ:', isConnected);

// ุฅุฑุณุงู ุจุฑูุฏ ุงุฎุชุจุงุฑ
const result = await LocalSMTPService.sendTestEmail('your-email@example.com');
console.log('ูุชูุฌุฉ ุงูุงุฎุชุจุงุฑ:', result);
```

## ๐ ุงููุดุฑ ุนูู ููุตุงุช ุงูุงุณุชุถุงูุฉ

### Heroku:

```bash
# ุฅูุดุงุก ุชุทุจูู Heroku
heroku create your-smtp-server

# ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
heroku config:set SMTP_HOST=smtp.hostinger.com
heroku config:set SMTP_PORT=465
heroku config:set SMTP_USER=manage@kareemamged.com
heroku config:set SMTP_PASS=Kareem@2024

# ูุดุฑ ุงูุชุทุจูู
git push heroku main
```

### Railway:

```bash
# ุฑุจุท ุงููุดุฑูุน ุจู Railway
railway login
railway init
railway up
```

### DigitalOcean App Platform:

1. ุฅูุดุงุก ุชุทุจูู ุฌุฏูุฏ
2. ุฑุจุท ูุณุชูุฏุน Git
3. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
4. ูุดุฑ ุงูุชุทุจูู

## ๐ง ุฅุนุฏุงุฏ ุงูุชุทุจูู ุงูุฑุฆูุณู

### 1. ุชุญุฏูุซ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู ุงูุชุทุจูู:

```env
# ูู ููู .env ููุชุทุจูู ุงูุฑุฆูุณู
SMTP_SERVER_URL=https://your-smtp-server.herokuapp.com
```

### 2. ุงุณุชุฎุฏุงู ุงูุฎุฏูุฉ ูู ุงูุชุทุจูู:

```typescript
// ูู temporaryPasswordService.ts
import { LocalSMTPService } from './localSMTPService';

const emailResult = await LocalSMTPService.sendEmail({
  to: email,
  subject: subject,
  html: htmlContent,
  text: textContent,
  type: 'temporary_password'
});
```

## ๐ ูุฑุงูุจุฉ ุงูุฎุงุฏู

### ุฑุณุงุฆู ุงููููุณูู:

```
๐ ุฎุงุฏู SMTP ุงููุณุชูู ูุนูู ุงูุขู!
๐ก ุงูุนููุงู: http://localhost:3001
๐ง ุฌุงูุฒ ูุงุณุชูุจุงู ุทูุจุงุช ุงูุฅุฑุณุงู
โฐ ุงูููุช: ูขูขโ/ูฃโ/ูกูคูคูง ูู ูง:ูคูฅ:ูฃู ุต

๐ ููุงุท ุงูููุงูุฉ ุงููุชุงุญุฉ:
   POST /send-email - ุฅุฑุณุงู ุฅูููู
   GET  /status     - ุญุงูุฉ ุงูุฎุงุฏู
```

### ุนูุฏ ุฅุฑุณุงู ุจุฑูุฏ ุฅููุชุฑููู:

```
๐ง ุงุณุชูุงู ุทูุจ ุฅุฑุณุงู ุฅูููู...
๐ฌ ุฅุฑุณุงู ุฅูู: user@example.com
๐ ุงูููุถูุน: ูููุฉ ุงููุฑูุฑ ุงููุคูุชุฉ - ุฑุฒูู
โ ุชู ุฅุฑุณุงู ุงูุฅูููู ุจูุฌุงุญ
๐ง Message ID: <message-id@smtp.hostinger.com>
```

## ๐ก๏ธ ุงูุฃูุงู

### 1. ุญูุงูุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ:
- ูุง ุชุถุน ูููุงุช ุงููุฑูุฑ ูู ุงูููุฏ
- ุงุณุชุฎุฏู ูููุงุช `.env` ูููุตูุฉ
- ุฃุถู `.env` ุฅูู `.gitignore`

### 2. ุชูููุฏ ุงููุตูู:
```javascript
// ุฅุถุงูุฉ ุชุญูู ูู ุงููุตุฏุฑ
const allowedOrigins = [
  'http://localhost:5173',
  'https://rezgee.vercel.app',
  'https://your-domain.com'
];
```

### 3. ูุนุฏู ุงูุทูุจุงุช:
```javascript
// ุฅุถุงูุฉ ุญุฏ ุฃูุตู ููุทูุจุงุช
const rateLimit = {
  windowMs: 15 * 60 * 1000, // 15 ุฏูููุฉ
  max: 100 // ุญุฏ ุฃูุตู 100 ุทูุจ
};
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:

1. **ุฎุทุฃ ECONNREFUSED:**
   - ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู
   - ุชุญูู ูู ุฑูู ุงูุจูุฑุช

2. **ุฎุทุฃ SMTP Authentication:**
   - ุชุญูู ูู ุจูุงูุงุช SMTP
   - ุชุฃูุฏ ูู ุชูุนูู SMTP ูู ุญุณุงุจ ุงูุจุฑูุฏ

3. **ุฎุทุฃ CORS:**
   - ุฃุถู ุงููุทุงู ุฅูู ูุงุฆูุฉ ุงููุณููุญ ุจูุง
   - ุชุญูู ูู ุฅุนุฏุงุฏุงุช CORS

### ุณุฌูุงุช ูููุฏุฉ:

```bash
# ุนุฑุถ ุณุฌูุงุช ุงูุฎุงุฏู
tail -f smtp-server.log

# ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
top -p $(pgrep -f smtp-server)
```

## ๐ ุชุญุณูู ุงูุฃุฏุงุก

### 1. ุงุณุชุฎุฏุงู PM2 ููุฅูุชุงุฌ:

```bash
npm install -g pm2
pm2 start smtp-server.js --name "smtp-server"
pm2 startup
pm2 save
```

### 2. ุฅุนุฏุงุฏ Load Balancer:

```javascript
// ูู ุญุงูุฉ ุงูุญุงุฌุฉ ูุนุฏุฉ ุฎูุงุฏู
const cluster = require('cluster');
const numCPUs = require('os').cpus().length;

if (cluster.isMaster) {
  for (let i = 0; i < numCPUs; i++) {
    cluster.fork();
  }
} else {
  // ููุฏ ุงูุฎุงุฏู ููุง
}
```

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู
2. ุงุฎุชุจุฑ ุงูุงุชุตุงู ุจู SMTP
3. ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ
4. ุฑุงุฌุน ูุชุบูุฑุงุช ุงูุจูุฆุฉ

---

**ููุงุญุธุฉ:** ูุฐุง ุงูุฎุงุฏู ูุตูู ุฎุตูุตุงู ููููุน ุฑุฒูู ููููู ุชุฎุตูุตู ุญุณุจ ุงุญุชูุงุฌุงุชู ุงูุฎุงุตุฉ.
