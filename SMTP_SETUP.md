# ๐ง ูุธุงู SMTP ุงููุณุชูู - ุฏููู ุงูุชุดุบูู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅูุดุงุก ูุธุงู ุฅุฑุณุงู ุจุฑูุฏู ูุณุชูู ุจุงููุงูู ููููุน ุฑุฒููุ ุจุฏูู ุงูุงุนุชูุงุฏ ุนูู ุฃู ุฎุฏูุงุช ุฎุงุฑุฌูุฉ.

## ๐๏ธ ููููุงุช ุงููุธุงู

### 1. ุฎุงุฏู SMTP ุงููุณุชูู (`smtp-server.js`)
- ุฎุงุฏู Node.js ูุนูู ุนูู ุงูุจูุฑุช 3001
- ูุณุชุฎุฏู ููุชุจุฉ `nodemailer` ููุฅุฑุณุงู ุงููุจุงุดุฑ
- ูุฏุนู SMTP ุขูู ูุน ุชุดููุฑ SSL/TLS

### 2. Service Worker (`public/smtp-worker.js`)
- ูุนูู ูู ุงูุฎูููุฉ ูู ุงููุชุตูุญ
- ูุชุนุงูู ูุน ุทูุจุงุช ุงูุฅุฑุณุงู
- ูููุฑ ูุธุงู fallback ุฐูู

### 3. ูุธุงู ุงูุฅุฑุณุงู ุงููุญุฏุซ (`finalEmailService.ts`)
- ุชู ุฅุนุงุฏุฉ ุชุตูููู ููุณุชุฎุฏู ุงููุธุงู ุงููุณุชูู
- ูุฏุนู ุฃููุงุน ูุฎุชููุฉ ูู ุงูุฅููููุงุช
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

### ุงูุฎุทูุฉ 1: ุชุซุจูุช Node.js
ุชุฃูุฏ ูู ูุฌูุฏ Node.js ุนูู ุงููุธุงู (ุงูุฅุตุฏุงุฑ 14 ุฃู ุฃุญุฏุซ)

### ุงูุฎุทูุฉ 2: ุชุซุจูุช ุงูููุชุจุงุช
```bash
# ุงูุณุฎ ููู package.json
cp smtp-package.json package.json

# ุซุจุช ุงูููุชุจุงุช ุงููุทููุจุฉ
npm install nodemailer cors

# ุฃู ุงุณุชุฎุฏู ุงูุฃูุฑ ุงููุฎุชุตุฑ
npm run install-deps
```

### ุงูุฎุทูุฉ 3: ุชุดุบูู ุฎุงุฏู SMTP
```bash
# ุชุดุบูู ุงูุฎุงุฏู
node smtp-server.js

# ุฃู ููุชุทููุฑ ูุน ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู
npm install -g nodemon
npm run dev
```

### ุงูุฎุทูุฉ 4: ุงูุชุญูู ูู ุนูู ุงูุฎุงุฏู
```bash
# ุงุฎุชุจุงุฑ ุญุงูุฉ ุงูุฎุงุฏู
curl http://localhost:3001/status

# ุฃู ุงูุชุญ ูู ุงููุชุตูุญ
# http://localhost:3001/status
```

## ๐ ุฅุนุฏุงุฏุงุช SMTP

### ุงูุฅุนุฏุงุฏุงุช ุงูุญุงููุฉ (Hostinger)
```javascript
{
  host: 'smtp.hostinger.com',
  port: 465,
  secure: true,
  user: 'manage@kareemamged.com',
  pass: 'Kareem@2024'
}
```

### ุชุฎุตูุต ุงูุฅุนุฏุงุฏุงุช
ููููู ุชุนุฏูู ุฅุนุฏุงุฏุงุช SMTP ูู ููู `smtp-server.js`:

```javascript
const smtpConfig = {
  host: 'your-smtp-server.com',
  port: 587, // ุฃู 465 ููู SSL
  secure: false, // true ููู SSL
  auth: {
    user: 'your-email@domain.com',
    pass: 'your-password'
  }
};
```

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุงุฎุชุจุงุฑ ุฎุงุฏู SMTP
```bash
# ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุฅูููู
curl -X POST http://localhost:3001/send-email \
  -H "Content-Type: application/json" \
  -d '{
    "emailData": {
      "to": "test@example.com",
      "subject": "ุงุฎุชุจุงุฑ",
      "text": "ุฑุณุงูุฉ ุงุฎุชุจุงุฑ",
      "html": "<h1>ุฑุณุงูุฉ ุงุฎุชุจุงุฑ</h1>"
    }
  }'
```

### 2. ุงุฎุชุจุงุฑ ูู ุงูุชุทุจูู
- ุงูุชุญ ุตูุญุฉ "ูุณูุช ุงูุจุงุณููุฑุฏ"
- ุฃุฏุฎู ุจุฑูุฏ ุฅููุชุฑููู ุตุญูุญ
- ุฑุงูุจ ุงููููุณูู ููุชุฃูุฏ ูู ุงูุฅุฑุณุงู

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: ุงูุฎุงุฏู ูุง ูุนูู
```bash
# ุชุญูู ูู ุงูุจูุฑุช
netstat -an | grep 3001

# ุชุญูู ูู ุงูุนูููุงุช
ps aux | grep node
```

### ูุดููุฉ: ูุดู ุงูุงุชุตุงู ุจู SMTP
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ
- ุชุฃูุฏ ูู ุตุญุฉ ุจูุงูุงุช SMTP
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุฌุฏุงุฑ ุงููุงุฑู

### ูุดููุฉ: Service Worker ูุง ูุนูู
- ุชุฃูุฏ ูู ุฃู ุงูููู ูู ูุฌูุฏ `public`
- ุงูุชุญ Developer Tools โ Application โ Service Workers
- ุชุญูู ูู ุชุณุฌูู Service Worker

## ๐ ูุฑุงูุจุฉ ุงููุธุงู

### ุณุฌูุงุช ุงูุฎุงุฏู
```bash
# ุนุฑุถ ุงูุณุฌูุงุช ุงููุจุงุดุฑุฉ
tail -f smtp-server.log

# ุฃู ุงุณุชุฎุฏู PM2 ููุฅุฏุงุฑุฉ ุงููุชูุฏูุฉ
npm install -g pm2
pm2 start smtp-server.js --name "rezge-smtp"
pm2 logs rezge-smtp
```

### ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- ุฑุงูุจ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ ูุงููุนุงูุฌ
- ุชุชุจุน ุนุฏุฏ ุงูุฅููููุงุช ุงููุฑุณูุฉ
- ูุฑุงูุจุฉ ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ

## ๐ ุงูุฃูุงู

### ุญูุงูุฉ ุจูุงูุงุช SMTP
- ูุง ุชุดุงุฑู ูููุงุช ุงููุฑูุฑ ูู ุงูููุฏ
- ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ:
```bash
export SMTP_USER="manage@kareemamged.com"
export SMTP_PASS="Kareem@2024"
```

### ุชุดููุฑ ุงูุงุชุตุงูุงุช
- ุงุณุชุฎุฏู SSL/TLS ุฏุงุฆูุงู
- ุชุญูู ูู ุดูุงุฏุงุช ุงูุฃูุงู
- ูุนู `rejectUnauthorized: false` ููุท ููุงุฎุชุจุงุฑ

## ๐ ุงููุดุฑ ูู ุงูุฅูุชุงุฌ

### 1. ุงุณุชุฎุฏุงู PM2
```bash
pm2 start smtp-server.js --name "rezge-smtp"
pm2 startup
pm2 save
```

### 2. ุฅุนุฏุงุฏ Nginx (ุงุฎุชูุงุฑู)
```nginx
location /smtp/ {
    proxy_pass http://localhost:3001/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
}
```

### 3. ุฅุนุฏุงุฏ SSL
```bash
# ุงุณุชุฎุฏุงู Let's Encrypt
certbot --nginx -d yourdomain.com
```

## ๐ ุชุญุณููุงุช ูุณุชูุจููุฉ

### 1. ูุงุนุฏุฉ ุจูุงูุงุช ููุณุฌูุงุช
- ุญูุธ ุณุฌู ุงูุฅููููุงุช ุงููุฑุณูุฉ
- ุชุชุจุน ุญุงูุงุช ุงููุดู
- ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงู

### 2. ูุธุงู ุทูุงุจูุฑ
- ุทุงุจูุฑ ููุฅููููุงุช ุงููุคุฌูุฉ
- ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุงูุชููุงุฆูุฉ
- ุชูุฒูุน ุงูุญูููุฉ

### 3. ูุงุฌูุฉ ุฅุฏุงุฑุฉ
- ููุญุฉ ุชุญูู ููุจ
- ูุฑุงูุจุฉ ูุจุงุดุฑุฉ
- ุฅุนุฏุงุฏุงุช ุฏููุงููููุฉ

## ๐ ุงูุฏุนู ุงูููู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ุงูุณุฌูุงุช
2. ุฑุงุฌุน ุฅุนุฏุงุฏุงุช SMTP
3. ุงุฎุชุจุฑ ุงูุงุชุตุงู ุจุงูุฎุงุฏู
4. ุชุฃูุฏ ูู ุนูู Service Worker

---

**ููุงุญุธุฉ**: ูุฐุง ุงููุธุงู ูุตูู ููููู ูุณุชููุงู ุจุงููุงูู ููุง ูุนุชูุฏ ุนูู ุฃู ุฎุฏูุงุช ุฎุงุฑุฌูุฉ. ุฌููุน ุงูุฅููููุงุช ุชูุฑุณู ูุจุงุดุฑุฉ ุนุจุฑ ุฎุงุฏู SMTP ุงูุฎุงุต ุจู.
