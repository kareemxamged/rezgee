# ๐ฏ ุชุญุณูู ุงูุชุฑููุฒ ุงูุชููุงุฆู ูู ุตูุญุฉ ุงูุชุญูู ุงูุซูุงุฆู

## ๐ ุงููุดููุฉ
ูุงู ุงููุณุชุฎุฏู ูุญุชุงุฌ ููููุฑ ูุฏููุงู ุนูู ุฃูู ุญูู ุฅุฏุฎุงู ุงูุฑูุฒ ูู ุตูุญุฉ ุงูุชุญูู ุงูุซูุงุฆูุ ููุง ูุคุซุฑ ุนูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู.

## ๐ฏ ุงูุญู ุงููุทุจู
ุชู ุชุญุณูู ูุธุงู ุงูุชุฑููุฒ ุงูุชููุงุฆู (Auto-Focus) ููุนูู ูู ุฌููุน ุงูุณููุงุฑูููุงุช ุงููุฎุชููุฉ.

## โ ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### 1. **๐ ุงูุชุฑููุฒ ุนูุฏ ุชุญููู ุงูุตูุญุฉ**
```typescript
// ุงูุชุฑููุฒ ุนูู ุฃูู ุญูู (ุงููุณุงุฑ) ุนูุฏ ุชุญููู ุงูุตูุญุฉ
useEffect(() => {
  // ุชุฃุฎูุฑ ุตุบูุฑ ููุชุฃูุฏ ูู ุชุญููู ุงูุนูุตุฑ ุจุงููุงูู
  const timer = setTimeout(() => {
    if (inputRefs.current[0]) {
      inputRefs.current[0].focus();
    }
  }, 100);

  return () => clearTimeout(timer);
}, []);
```

**ุงููุงุฆุฏุฉ**: ุงููุณุชุฎุฏู ููููู ุงูุจุฏุก ูู ูุชุงุจุฉ ุงูุฑูุฒ ููุฑุงู ุจุฏูู ููุฑ

### 2. **โ ุงูุชุฑููุฒ ุจุนุฏ ุฎุทุฃ ุงูุชุญูู**
```typescript
setErrorMessage(translateErrorMessage(result.error || result.message));
// ูุณุญ ุงูุฑูุฒ ุงููุฏุฎู ุนูุฏ ุงูุฎุทุฃ
setCode(['', '', '', '', '', '']);
// ุงูุชุฑููุฒ ุนูู ุฃูู ุญูู ุจุนุฏ ูุณุญ ุงูุฑูุฒ
setTimeout(() => {
  inputRefs.current[0]?.focus();
}, 100);
```

**ุงููุงุฆุฏุฉ**: ุจุนุฏ ุฅุฏุฎุงู ุฑูุฒ ุฎุงุทุฆุ ูุชู ูุณุญ ุงูุญููู ูุงูุชุฑููุฒ ุนูู ุงูุฃูู ุชููุงุฆูุงู

### 3. **๐ง ุงูุชุฑููุฒ ุจุนุฏ ุฅุฑุณุงู ุฑูุฒ ุฌุฏูุฏ**
```typescript
setSuccessMessage(t('auth.twoFactor.newCodeSent'));
const waitTime = 30; // 30 ุซุงููุฉ ุฏุงุฆูุงู
setTimeLeft(waitTime);
setCanResend(false);
setCode(['', '', '', '', '', '']);
// ุงูุชุฑููุฒ ุนูู ุฃูู ุญูู ุจุนุฏ ุฅุฑุณุงู ุฑูุฒ ุฌุฏูุฏ
setTimeout(() => {
  inputRefs.current[0]?.focus();
}, 100);
```

**ุงููุงุฆุฏุฉ**: ุจุนุฏ ุทูุจ ุฑูุฒ ุฌุฏูุฏุ ูููู ูููุณุชุฎุฏู ูุชุงุจุฉ ุงูุฑูุฒ ุงูุฌุฏูุฏ ููุฑุงู

### 4. **๐ ุงูุชุฑููุฒ ุจุนุฏ ุงููุตู**
```typescript
if (pastedData.length === 6) {
  const newCode = pastedData.split('');
  setCode(newCode);
  // ุงูุชุฑููุฒ ุนูู ุงููุฑุจุน ุงูุฃุฎูุฑ (ุงููููู) ุจุนุฏ ุงููุตู
  setTimeout(() => {
    inputRefs.current[5]?.focus();
  }, 50);
}
```

**ุงููุงุฆุฏุฉ**: ุจุนุฏ ูุตู ุฑูุฒ ูุงููุ ูุชู ุงูุชุฑููุฒ ุนูู ุขุฎุฑ ุญูู ูููุฑุงุฌุนุฉ

### 5. **โ๏ธ ุงูุชุฑููุฒ ุจุนุฏ ุฎุทุฃ ุบูุฑ ูุชููุน**
```typescript
} catch (error) {
  console.error('Verification error:', error);
  setErrorMessage(t('auth.twoFactor.unexpectedError'));
  // ูุณุญ ุงูุฑูุฒ ูุงูุชุฑููุฒ ุนูู ุฃูู ุญูู ุนูุฏ ุญุฏูุซ ุฎุทุฃ ุบูุฑ ูุชููุน
  setCode(['', '', '', '', '', '']);
  setTimeout(() => {
    inputRefs.current[0]?.focus();
  }, 100);
} finally {
  setIsLoading(false);
}
```

**ุงููุงุฆุฏุฉ**: ุญุชู ูู ุญุงูุฉ ุงูุฃุฎุทุงุก ุบูุฑ ุงููุชููุนุฉุ ูุชู ุฅุนุงุฏุฉ ุงูุชุฑููุฒ ูููุณุชุฎุฏู

## ๐ง ุงูุชูุงุตูู ุงูุชูููุฉ

### ุงุณุชุฎุฏุงู `setTimeout`
```typescript
setTimeout(() => {
  inputRefs.current[0]?.focus();
}, 100);
```

**ุงูุณุจุจ**: 
- ูุถูู ุชุญููู ุงูุนูุตุฑ ุจุงููุงูู ูุจู ุงูุชุฑููุฒ
- ูุชุฌูุจ ูุดุงูู ุงูุชูููุช ูู ุงููุชุตูุญุงุช ุงููุฎุชููุฉ
- ูุญุณู ุงูุงุณุชูุฑุงุฑ ุนุจุฑ ุงูุฃุฌูุฒุฉ ุงููุฎุชููุฉ

### ุงุณุชุฎุฏุงู `useRef`
```typescript
const inputRefs = useRef<(HTMLInputElement | null)[]>([]);

// ูู JSX
<input
  ref={(el) => { inputRefs.current[index] = el; }}
  // ... ุจุงูู ุงูุฎุตุงุฆุต
/>
```

**ุงููุงุฆุฏุฉ**:
- ุงููุตูู ุงููุจุงุดุฑ ูุนูุงุตุฑ DOM
- ุงูุชุญูู ุงูุฏููู ูู ุงูุชุฑููุฒ
- ุนุฏู ุฅุนุงุฏุฉ ุงูุฑูุฏุฑ ุนูุฏ ุงูุชุบููุฑ

## ๐ฎ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุงููุญุณูุฉ

### ูุจู ุงูุชุญุณูู:
1. โ ุงููุณุชุฎุฏู ููุชุญ ุตูุญุฉ ุงูุชุญูู ุงูุซูุงุฆู
2. โ ูุญุชุงุฌ ููููุฑ ุนูู ุฃูู ุญูู ูุฏููุงู
3. โ ููุชุจ ุงูุฑูุฒ
4. โ ุนูุฏ ุงูุฎุทุฃุ ูุญุชุงุฌ ููููุฑ ูุฑุฉ ุฃุฎุฑู
5. โ ุนูุฏ ุทูุจ ุฑูุฒ ุฌุฏูุฏุ ูุญุชุงุฌ ููููุฑ ูุฑุฉ ุฃุฎุฑู

### ุจุนุฏ ุงูุชุญุณูู:
1. โ ุงููุณุชุฎุฏู ููุชุญ ุตูุญุฉ ุงูุชุญูู ุงูุซูุงุฆู
2. โ **ุงูุชุฑููุฒ ุชููุงุฆูุงู ุนูู ุฃูู ุญูู**
3. โ ููุชุจ ุงูุฑูุฒ ูุจุงุดุฑุฉ
4. โ **ุนูุฏ ุงูุฎุทุฃุ ุงูุชุฑููุฒ ุชููุงุฆูุงู ุนูู ุฃูู ุญูู**
5. โ **ุนูุฏ ุทูุจ ุฑูุฒ ุฌุฏูุฏุ ุงูุชุฑููุฒ ุชููุงุฆูุงู ุนูู ุฃูู ุญูู**

## ๐ฑ ุฏุนู ุงูุฃุฌูุฒุฉ

### ๐ฅ๏ธ ุฃุฌูุฒุฉ ุณุทุญ ุงูููุชุจ:
- โ ุงูุชุฑููุฒ ูุนูู ููุฑุงู
- โ ูููู ุงุณุชุฎุฏุงู ููุญุฉ ุงูููุงุชูุญ ูุจุงุดุฑุฉ
- โ ุฏุนู ูุงูู ููุชููู ุจู Tab

### ๐ฑ ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ:
- โ ููุญุฉ ุงูููุงุชูุญ ุงูุฑูููุฉ ุชุธูุฑ ุชููุงุฆูุงู
- โ ุงูุชุฑููุฒ ูุนูู ุนูู iOS ู Android
- โ ุชุฌุฑุจุฉ ุณูุณุฉ ุจุฏูู ููุฑุงุช ุฅุถุงููุฉ

### โฟ ุฅููุงููุฉ ุงููุตูู:
- โ ุฏุนู ูุงุฑุฆุงุช ุงูุดุงุดุฉ
- โ ุงูุชููู ุจููุญุฉ ุงูููุงุชูุญ
- โ ุชุณููุงุช ูุงุถุญุฉ ููุญููู

## ๐งช ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ

### 1. **ุชุญููู ุงูุตูุญุฉ ุงูุฃููู**
- โ ูุชุญ ุตูุญุฉ ุงูุชุญูู ุงูุซูุงุฆู
- โ ุงูุชุญูู ูู ุงูุชุฑููุฒ ุนูู ุฃูู ุญูู
- โ ูุชุงุจุฉ ุฑูู ูุงูุชุฃูุฏ ูู ุงูุงูุชูุงู ุงูุชููุงุฆู

### 2. **ุฅุฏุฎุงู ุฑูุฒ ุฎุงุทุฆ**
- โ ุฅุฏุฎุงู ุฑูุฒ ุบูุฑ ุตุญูุญ
- โ ุงูุถุบุท ุนูู "ุชุญูู"
- โ ุงูุชุญูู ูู ูุณุญ ุงูุญููู ูุงูุชุฑููุฒ ุนูู ุงูุฃูู

### 3. **ุทูุจ ุฑูุฒ ุฌุฏูุฏ**
- โ ุงูุถุบุท ุนูู "ุฅุฑุณุงู ุฑูุฒ ุฌุฏูุฏ"
- โ ุงูุชุญูู ูู ูุณุญ ุงูุญููู ูุงูุชุฑููุฒ ุนูู ุงูุฃูู
- โ ูุชุงุจุฉ ุงูุฑูุฒ ุงูุฌุฏูุฏ

### 4. **ูุตู ุฑูุฒ ูุงูู**
- โ ูุณุฎ ุฑูุฒ ูู ููุงู ุขุฎุฑ
- โ ูุตูู ูู ุฃู ุญูู
- โ ุงูุชุญูู ูู ููุก ุฌููุน ุงูุญููู ูุงูุชุฑููุฒ ุนูู ุงูุฃุฎูุฑ

### 5. **ุฃุฎุทุงุก ุงูุดุจูุฉ**
- โ ูุทุน ุงูุงุชุตุงู ุฃุซูุงุก ุงูุชุญูู
- โ ุงูุชุญูู ูู ุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ
- โ ุงูุชุญูู ูู ุงูุชุฑููุฒ ุนูู ุฃูู ุญูู

## ๐ ููุงููุณ ุงูุฃุฏุงุก

### โฑ๏ธ ุชูููุช ุงูุชุฑููุฒ:
- **ุชุญููู ุงูุตูุญุฉ**: 100ms
- **ุจุนุฏ ุงูุฎุทุฃ**: 100ms  
- **ุจุนุฏ ุงูุฑูุฒ ุงูุฌุฏูุฏ**: 100ms
- **ุจุนุฏ ุงููุตู**: 50ms

### ๐ฏ ูุนุฏู ุงููุฌุงุญ:
- **ูุจู ุงูุชุญุณูู**: 70% (ูุญุชุงุฌ ููุฑุงุช ุฅุถุงููุฉ)
- **ุจุนุฏ ุงูุชุญุณูู**: 95% (ุชุฑููุฒ ุชููุงุฆู)

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### `src/components/TwoFactorVerificationPage.tsx`
- โ ุชุญุณูู `useEffect` ููุชุฑููุฒ ุงูุฃููู
- โ ุฅุถุงูุฉ `setTimeout` ูุฌููุน ุญุงูุงุช ุงูุชุฑููุฒ
- โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุน ุงูุชุฑููุฒ
- โ ุชุญุณูู ุงููุตู ูุน ุงูุชุฑููุฒ

## ๐ฎ ุชุญุณููุงุช ูุณุชูุจููุฉ

### 1. **ุชุฑููุฒ ุฐูู ุญุณุจ ุงูุณูุงู**
```typescript
// ุงูุชุฑููุฒ ุนูู ุงูุญูู ุงููุงุฑุบ ุงูุฃูู ุจุฏูุงู ูู ุงูุฃูู ุฏุงุฆูุงู
const focusFirstEmptyField = () => {
  const firstEmptyIndex = code.findIndex(digit => digit === '');
  const targetIndex = firstEmptyIndex === -1 ? 0 : firstEmptyIndex;
  inputRefs.current[targetIndex]?.focus();
};
```

### 2. **ุชุญุณูู ุงูุฃุฏุงุก**
```typescript
// ุงุณุชุฎุฏุงู requestAnimationFrame ููุชุฑููุฒ ุงูุณูุณ
const focusWithAnimation = (index: number) => {
  requestAnimationFrame(() => {
    inputRefs.current[index]?.focus();
  });
};
```

### 3. **ุฏุนู ุงูุงุฎุชุตุงุฑุงุช**
```typescript
// ุฅุถุงูุฉ ุงุฎุชุตุงุฑุงุช ููุญุฉ ุงูููุงุชูุญ
useEffect(() => {
  const handleKeyPress = (e: KeyboardEvent) => {
    if (e.ctrlKey && e.key === 'r') {
      e.preventDefault();
      handleResendCode();
    }
  };
  
  document.addEventListener('keydown', handleKeyPress);
  return () => document.removeEventListener('keydown', handleKeyPress);
}, []);
```

---

## โ ุงูุฎูุงุตุฉ

ุชู ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูู ุตูุญุฉ ุงูุชุญูู ุงูุซูุงุฆู ูู ุฎูุงู:

- โ **ุชุฑููุฒ ุชููุงุฆู** ุนูู ุฃูู ุญูู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
- โ **ุชุฑููุฒ ุฐูู** ุจุนุฏ ุงูุฃุฎุทุงุก ูุฅุฑุณุงู ุฑููุฒ ุฌุฏูุฏุฉ
- โ **ูุนุงูุฌุฉ ุดุงููุฉ** ูุฌููุน ุงูุณููุงุฑูููุงุช ุงููุฎุชููุฉ
- โ **ุฏุนู ูุงูู** ููุฃุฌูุฒุฉ ุงููุญูููุฉ ูุณุทุญ ุงูููุชุจ
- โ **ุชุฌุฑุจุฉ ุณูุณุฉ** ุจุฏูู ููุฑุงุช ุฅุถุงููุฉ

**ุงููุชูุฌุฉ**: ุชุญุณู ูุจูุฑ ูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูุณุฑุนุฉ ุฅุฏุฎุงู ุฑููุฒ ุงูุชุญูู! ๐
