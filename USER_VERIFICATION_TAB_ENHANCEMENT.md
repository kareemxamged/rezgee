# ุฅุถุงูุฉ ูุณู ุงูุชูุซูู ูู ูุงูุฐุฉ ุชูุงุตูู ุงููุณุชุฎุฏู (21-08-2025)

## ๐ฏ ุงููุฏู ูู ุงูุชุญุณูู

ุฅุถุงูุฉ ูุณู ุฌุฏูุฏ ููุชูุซูู ูู ูุงูุฐุฉ "ุนุฑุถ ุงูุชูุงุตูู" ูููุณุชุฎุฏููู ูู ููุญุฉ ุงูุฅุฏุงุฑุฉุ ูุน ุฃุฒุฑุงุฑ ุชุญูู ูุชูุฏูุฉ ูุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุชูุซูู.

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. **ุชุจููุจ ุงูุชูุซูู ุงูุฌุฏูุฏ**
- ูุธูุฑ ููุท ูููุณุชุฎุฏููู ุงูููุซููู ุฃู ุงูุฐูู ูุฏููู ุทูุจุงุช ุชูุซูู
- ุฃููููุฉ ุฎุงุตุฉ ูุน ูุคุดุฑ ุงูุชูุซูู ุงูุฃุฎุถุฑ ูููุณุชุฎุฏููู ุงูููุซููู
- ุชุตููู ูุชุณู ูุน ุจุงูู ุงูุชุจููุจุงุช

### 2. **ุนุฑุถ ุดุงูู ูุจูุงูุงุช ุงูุชูุซูู**
- **ูุนูููุงุช ุงููููุฉ**: ุงูุงุณู ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉุ ุชุงุฑูุฎ ุงููููุงุฏุ ุงูุฌูุณูุฉ
- **ูุนูููุงุช ุงููุณุชูุฏ**: ููุน ุงููุณุชูุฏุ ุงูุฑููุ ุชูุงุฑูุฎ ุงูุฅุตุฏุงุฑ ูุงูุงูุชูุงุกุ ุฌูุฉ ุงูุฅุตุฏุงุฑ
- **ุงููุณุชูุฏุงุช ุงููุฑููุฉ**: ุนุฑุถ ูุชุญููู ุงูุตูุฑ (ุงููุฌู ุงูุฃูุงููุ ุงูุฎูููุ ุงูุณูููู)
- **ูุนูููุงุช ุงููุฑุงุฌุนุฉ**: ุชุงุฑูุฎ ุงููุฑุงุฌุนุฉุ ููุงุญุธุงุช ุงูุฅุฏุงุฑุฉุ ุฃุณุจุงุจ ุงูุฑูุถ
- **ูุนูููุงุช ุงูุทูุจ**: ุชุงุฑูุฎ ุงูุฅุฑุณุงู ูุขุฎุฑ ุชุญุฏูุซ

### 3. **ุฃุฒุฑุงุฑ ุงูุชุญูู ุงููุชูุฏูุฉ**
#### ูููุณุชุฎุฏููู ุงูููุซููู:
- **ุชุนููู ุงูุชูุซูู**: ุฅููุงู ูุคูุช ููุชูุซูู ูุน ุฅุฏุฎุงู ุงูุณุจุจ
- **ุฅูุบุงุก ุงูุชูุซูู**: ุฅูุบุงุก ููุงุฆู ููุชูุซูู

#### ูููุณุชุฎุฏููู ุงููุนูููู/ุงูููุบููู:
- **ุฅุนุงุฏุฉ ุชูุนูู ุงูุชูุซูู**: ุงุณุชุนุงุฏุฉ ุญุงูุฉ ุงูุชูุซูู

### 4. **ุนุฑุถ ูุชุญููู ุงููุณุชูุฏุงุช**
- **ุนุฑุถ ุงูุตูุฑ**: ูุชุญ ุงูุตูุฑ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ ูููุฑุงุฌุนุฉ
- **ุชุญููู ุงูุตูุฑ**: ุชุญููู ุงููุณุชูุฏุงุช ููุฃุฑุดูุฉ ุฃู ุงููุฑุงุฌุนุฉ
- **ูุนุงููุฉ ูุตุบุฑุฉ**: ุนุฑุถ ูุตุบุฑ ููุตูุฑ ูู ุงููุงุฌูุฉ

## ๐ง ุงูุชูุงุตูู ุงูุชูููุฉ

### ุงููููุงุช ุงูุฌุฏูุฏุฉ:

#### 1. `src/components/admin/users/UserVerificationTab.tsx`
ูููู ุฌุฏูุฏ ูุฎุตุต ูุนุฑุถ ูุฅุฏุงุฑุฉ ุจูุงูุงุช ุงูุชูุซูู:

```typescript
interface UserVerificationTabProps {
  userId: string;
  user: UserType;
}

interface VerificationRequest {
  id: string;
  full_name_arabic: string;
  full_name_english: string;
  birth_date: string;
  nationality: string;
  document_type: string;
  document_number: string;
  // ... ุจุงูู ุงูุญููู
}
```

**ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ:**
- ุฌูุจ ุจูุงูุงุช ุงูุชูุซูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุนุฑุถ ุญุงูุฉ ุงูุชูุซูู ูุน ุงูุฃููุงู ุงูููุงุณุจุฉ
- ุฃุฒุฑุงุฑ ุชุญูู ุฏููุงููููุฉ ุญุณุจ ุงูุญุงูุฉ
- ุนุฑุถ ูุชุญููู ุงููุณุชูุฏุงุช
- ุชุญุฏูุซ ููุฑู ููุญุงูุฉ ุจุนุฏ ุงูุนูููุงุช

### ุงููููุงุช ุงููุญุฏุซุฉ:

#### 1. `src/components/admin/users/UserDetailsModal.tsx`
- ุฅุถุงูุฉ ุชุจููุจ "ุงูุชูุซูู" ุงูุฌุฏูุฏ
- ุดุฑุท ุงูุนุฑุถ ูููุณุชุฎุฏููู ุงูููุซููู ุฃู ุงูุฐูู ูุฏููู ุทูุจุงุช
- ุชุญุฏูุซ ููุน ุงูุชุจููุจุงุช ูุชุดูู 'verification'
- ุฅุถุงูุฉ imports ููุฃููููุงุช ุงูุฌุฏูุฏุฉ

#### 2. `src/hooks/useRealtimeUpdates.ts`
- ุฅุตูุงุญ ูุดููุฉ ุงูุชุญุฏูุซ ุงูุชููุงุฆู ุงููุชูุฑุฑ
- ุงุณุชุฎุฏุงู `useRef` ูุชุฌูุจ ุฅุนุงุฏุฉ ุงูุงุดุชุฑุงู
- ุชุญุณูู ุงุณุชูุฑุงุฑ ุงูุฏูุงู ูู hooks

## ๐จ ุงูุชุตููู ูุงููุงุฌูุฉ

### 1. **ุญุงูุฉ ุงูุชูุซูู**
```jsx
<span className={`px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(status)}`}>
  {getStatusText(status)}
</span>
```

**ุงูุฃููุงู ุญุณุจ ุงูุญุงูุฉ:**
- โ **ููุจูู**: ุฃุฎุถุฑ (`text-green-600 bg-green-100`)
- โ **ูุฑููุถ**: ุฃุญูุฑ (`text-red-600 bg-red-100`)
- โธ๏ธ **ูุนูู**: ุจุฑุชูุงูู (`text-orange-600 bg-orange-100`)
- ๐ซ **ููุบู**: ุฑูุงุฏู (`text-gray-600 bg-gray-100`)
- ๐ **ุชุญุช ุงููุฑุงุฌุนุฉ**: ุฃุฒุฑู (`text-blue-600 bg-blue-100`)
- โณ **ูู ุงูุงูุชุธุงุฑ**: ุฃุตูุฑ (`text-yellow-600 bg-yellow-100`)

### 2. **ุฃุฒุฑุงุฑ ุงูุชุญูู**
```jsx
// ุชุนููู ุงูุชูุซูู
<button className="bg-orange-600 text-white rounded-lg hover:bg-orange-700">
  <Pause className="w-4 h-4" />
  ุชุนููู ุงูุชูุซูู
</button>

// ุฅูุบุงุก ุงูุชูุซูู
<button className="bg-red-600 text-white rounded-lg hover:bg-red-700">
  <Ban className="w-4 h-4" />
  ุฅูุบุงุก ุงูุชูุซูู
</button>

// ุฅุนุงุฏุฉ ุชูุนูู
<button className="bg-green-600 text-white rounded-lg hover:bg-green-700">
  <RotateCcw className="w-4 h-4" />
  ุฅุนุงุฏุฉ ุชูุนูู ุงูุชูุซูู
</button>
```

### 3. **ุนุฑุถ ุงููุณุชูุฏุงุช**
```jsx
<div className="aspect-video bg-gray-200 rounded-lg mb-3 overflow-hidden">
  <img 
    src={imageUrl} 
    alt="ุงููุณุชูุฏ"
    className="w-full h-full object-cover"
  />
</div>
<div className="flex gap-2">
  <button className="bg-blue-600 text-white">
    <Eye className="w-4 h-4" />
    ุนุฑุถ
  </button>
  <button className="bg-gray-600 text-white">
    <Download className="w-4 h-4" />
    ุชุญููู
  </button>
</div>
```

## ๐ ุงูุนูููุงุช ุงููุฏุนููุฉ

### 1. **ุชุนููู ุงูุชูุซูู**
```typescript
const handleSuspendVerification = async () => {
  const reason = window.prompt('ูุฑุฌู ุฅุฏุฎุงู ุณุจุจ ุชุนููู ุงูุชูุซูู:');
  if (!reason) return;

  // ุชุญุฏูุซ ุญุงูุฉ ุงููุณุชุฎุฏู
  await supabase.from('users').update({ verified: false }).eq('id', userId);
  
  // ุชุญุฏูุซ ุทูุจ ุงูุชูุซูู
  await supabase.from('verification_requests').update({
    status: 'suspended',
    admin_notes: `ุชู ุชุนููู ุงูุชูุซูู: ${reason}`
  }).eq('id', verificationData.id);
};
```

### 2. **ุฅูุบุงุก ุงูุชูุซูู**
```typescript
const handleCancelVerification = async () => {
  const confirmed = window.confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุฅูุบุงุก ุชูุซูู ูุฐุง ุงููุณุชุฎุฏูุ');
  if (!confirmed) return;

  // ุชุญุฏูุซ ุญุงูุฉ ุงููุณุชุฎุฏู ูุงูุทูุจ
  await supabase.from('users').update({ verified: false }).eq('id', userId);
  await supabase.from('verification_requests').update({
    status: 'cancelled',
    admin_notes: 'ุชู ุฅูุบุงุก ุงูุชูุซูู ูู ูุจู ุงูุฅุฏุงุฑุฉ'
  }).eq('id', verificationData.id);
};
```

### 3. **ุฅุนุงุฏุฉ ุชูุนูู ุงูุชูุซูู**
```typescript
const handleReactivateVerification = async () => {
  // ุงุณุชุนุงุฏุฉ ุญุงูุฉ ุงูุชูุซูู
  await supabase.from('users').update({ verified: true }).eq('id', userId);
  await supabase.from('verification_requests').update({
    status: 'approved',
    admin_notes: 'ุชู ุฅุนุงุฏุฉ ุชูุนูู ุงูุชูุซูู ูู ูุจู ุงูุฅุฏุงุฑุฉ'
  }).eq('id', verificationData.id);
};
```

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. **ุงุฎุชุจุงุฑ ุนุฑุถ ุงูุชุจููุจ**
1. ุงูุชุญ ููุญุฉ ุงูุฅุฏุงุฑุฉ โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
2. ุงุถุบุท ุนูู "ุนุฑุถ ุงูุชูุงุตูู" ููุณุชุฎุฏู ููุซู
3. ุชุฃูุฏ ูู ุธููุฑ ุชุจููุจ "ุงูุชูุซูู" ูุน ุฃููููุฉ ุงูุชูุซูู ุงูุฎุถุฑุงุก
4. ุงุถุบุท ุนูู ุงูุชุจููุจ ูุชุฃูุฏ ูู ุนุฑุถ ุงูุจูุงูุงุช

### 2. **ุงุฎุชุจุงุฑ ุฃุฒุฑุงุฑ ุงูุชุญูู**
1. **ูููุณุชุฎุฏู ุงูููุซู**: ุชุฃูุฏ ูู ุธููุฑ ุฃุฒุฑุงุฑ "ุชุนููู" ู "ุฅูุบุงุก"
2. **ุงุฎุชุจุฑ ุชุนููู ุงูุชูุซูู**: ุฃุฏุฎู ุณุจุจ ูุชุฃูุฏ ูู ุงูุชุญุฏูุซ
3. **ุงุฎุชุจุฑ ุฅุนุงุฏุฉ ุงูุชูุนูู**: ุชุฃูุฏ ูู ุงุณุชุนุงุฏุฉ ุงูุญุงูุฉ

### 3. **ุงุฎุชุจุงุฑ ุนุฑุถ ุงููุณุชูุฏุงุช**
1. ุชุฃูุฏ ูู ุนุฑุถ ุงูุตูุฑ ุงููุตุบุฑุฉ
2. ุงุฎุชุจุฑ ุฒุฑ "ุนุฑุถ" - ูุฌุจ ูุชุญ ุงูุตูุฑุฉ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ
3. ุงุฎุชุจุฑ ุฒุฑ "ุชุญููู" - ูุฌุจ ุชุญููู ุงูุตูุฑุฉ

## ๐ ุงูููุงุฆุฏ ุงููุญููุฉ

### โ ููุฅุฏุงุฑููู:
- **ุนุฑุถ ุดุงูู** ูุฌููุน ุจูุงูุงุช ุงูุชูุซูู ูู ููุงู ูุงุญุฏ
- **ุชุญูู ูุงูู** ูู ุญุงูุฉ ุงูุชูุซูู ูููุณุชุฎุฏููู
- **ูุฑุงุฌุนุฉ ุณููุฉ** ูููุณุชูุฏุงุช ุงููุฑููุฉ
- **ุชุชุจุน ุชุงุฑูุฎ** ุงูุนูููุงุช ูุงูุชุบููุฑุงุช

### โ ูููุธุงู:
- **ุชูุธูู ุฃูุถู** ูุจูุงูุงุช ุงูุชูุซูู
- **ุฃูุงู ูุญุณู** ูุน ุชุฃููุฏุงุช ุงูุนูููุงุช
- **ุชุญุฏูุซ ููุฑู** ููุญุงูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุชุณูุฉ** ูุน ุจุงูู ุงููุงุฌูุฉ

### โ ููุตูุงูุฉ:
- **ููุฏ ููุธู** ูู ูููู ูููุตู
- **ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู** ุณููุฉ ูููููู
- **ุงุฎุชุจุงุฑ ูุณุชูู** ูููุธุงุฆู
- **ุชูุซูู ุดุงูู** ููุนูููุงุช

---

**ุชุงุฑูุฎ ุงูุชุทููุฑ:** 21-08-2025  
**ุญุงูุฉ ุงูุชุทููุฑ:** โ ููุชูู ููุฎุชุจุฑ  
**ุงููุทูุฑ:** AI Assistant  
**ุงูุฃููููุฉ:** ูุชูุณุทุฉ - ุชุญุณูู ุชุฌุฑุจุฉ ุงูุฅุฏุงุฑุฉ
